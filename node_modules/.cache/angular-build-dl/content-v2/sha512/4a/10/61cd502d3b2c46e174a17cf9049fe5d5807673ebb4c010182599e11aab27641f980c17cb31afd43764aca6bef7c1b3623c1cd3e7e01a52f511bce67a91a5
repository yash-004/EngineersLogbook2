{"version":3,"sources":["src/app/pages/CmdMap/CmdMap.page.html","src/app/pages/CmdMap/CmdMap.module.ts","src/app/pages/CmdMap/CmdMap.page.scss","src/app/pages/CmdMap/CmdMap.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-content padding>\\n    <script src=\\\"https://maps.googleapis.com/maps/api/js?key=AIzaSyCZ71jPdOF6e02nQmca2WrbJw_QeXZBh5Q\\\"></script>\\n    <div #map id=\\\"map\\\" style=\\\"height: 100%;width: 100%;overflow: auto;background-color: transparent;\\\"></div>\\n    <div id=\\\"content\\\">\\n        {{this.database.current.user.name}}\\n    </div>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { Device } from '@ionic-native/device/ngx';\nimport { CmdMapPage } from './CmdMap.page';\nimport { Component, OnInit, ElementRef, ViewChild } from '@angular/core';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: CmdMapPage\n      }\n    ])\n  ],\n  declarations: [CmdMapPage]\n})\nexport class CmdMapPageModule {}\n","export default \".popup-bubble {\\n  /* Position the bubble centred-above its parent. */\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  -webkit-transform: translate(-50%, -100%);\\n          transform: translate(-50%, -100%);\\n  /* Style the bubble. */\\n  background-color: white;\\n  padding: 5px;\\n  border-radius: 5px;\\n  font-family: sans-serif;\\n  overflow-y: auto;\\n  max-height: 60px;\\n  box-shadow: 0px 2px 10px 1px rgba(0, 0, 0, 0.5);\\n}\\n\\n/* The parent of the bubble. A zero-height div at the top of the tip. */\\n\\n.popup-bubble-anchor {\\n  /* Position the div a fixed distance above the tip. */\\n  position: absolute;\\n  width: 100%;\\n  bottom: 8px;\\n  left: 0;\\n}\\n\\n/* This element draws the tip. */\\n\\n.popup-bubble-anchor::after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  /* Center the tip horizontally. */\\n  -webkit-transform: translate(-50%, 0);\\n          transform: translate(-50%, 0);\\n  /* The tip is a https://css-tricks.com/snippets/css/css-triangle/ */\\n  width: 0;\\n  height: 0;\\n  /* The tip is 8px high, and 12px wide. */\\n  border-left: 6px solid transparent;\\n  border-right: 6px solid transparent;\\n  border-top: 8px solid white;\\n}\\n\\n/* JavaScript will position this div at the bottom of the popup tip. */\\n\\n.popup-container {\\n  cursor: auto;\\n  height: 0;\\n  position: absolute;\\n  /* The max width of the info window. */\\n  width: 200px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy95YXNoZGl4aXQvRGVza3RvcC9FbmdpbmVlcnNMb2dib29rMi9zcmMvYXBwL3BhZ2VzL0NtZE1hcC9DbWRNYXAucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9DbWRNYXAvQ21kTWFwLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNRLGtEQUFBO0VBQ0Esa0JBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtFQUNBLHlDQUFBO1VBQUEsaUNBQUE7RUFDQSxzQkFBQTtFQUNBLHVCQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsdUJBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0VBQ0EsK0NBQUE7QUNDUjs7QURDTSx1RUFBQTs7QUFDTjtFQUNRLHFEQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtFQUNBLE9BQUE7QUNFUjs7QURBTSxnQ0FBQTs7QUFDTjtFQUNRLFdBQUE7RUFDQSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsaUNBQUE7RUFDQSxxQ0FBQTtVQUFBLDZCQUFBO0VBQ0EsbUVBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtFQUNBLHdDQUFBO0VBQ0Esa0NBQUE7RUFDQSxtQ0FBQTtFQUNBLDJCQUFBO0FDR1I7O0FERE0sc0VBQUE7O0FBQ047RUFDUSxZQUFBO0VBQ0EsU0FBQTtFQUNBLGtCQUFBO0VBQ0Esc0NBQUE7RUFDQSxZQUFBO0FDSVIiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9DbWRNYXAvQ21kTWFwLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5wb3B1cC1idWJibGUge1xuICAgICAgICAvKiBQb3NpdGlvbiB0aGUgYnViYmxlIGNlbnRyZWQtYWJvdmUgaXRzIHBhcmVudC4gKi9cbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC0xMDAlKTtcbiAgICAgICAgLyogU3R5bGUgdGhlIGJ1YmJsZS4gKi9cbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgICAgIHBhZGRpbmc6IDVweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgICAgICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcbiAgICAgICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICAgICAgbWF4LWhlaWdodDogNjBweDtcbiAgICAgICAgYm94LXNoYWRvdzogMHB4IDJweCAxMHB4IDFweCByZ2JhKDAsMCwwLDAuNSk7XG59XG4gICAgICAvKiBUaGUgcGFyZW50IG9mIHRoZSBidWJibGUuIEEgemVyby1oZWlnaHQgZGl2IGF0IHRoZSB0b3Agb2YgdGhlIHRpcC4gKi9cbi5wb3B1cC1idWJibGUtYW5jaG9yIHtcbiAgICAgICAgLyogUG9zaXRpb24gdGhlIGRpdiBhIGZpeGVkIGRpc3RhbmNlIGFib3ZlIHRoZSB0aXAuICovXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGJvdHRvbTogLyogVElQX0hFSUdIVD0gKi8gOHB4O1xuICAgICAgICBsZWZ0OiAwO1xufVxuICAgICAgLyogVGhpcyBlbGVtZW50IGRyYXdzIHRoZSB0aXAuICovXG4ucG9wdXAtYnViYmxlLWFuY2hvcjo6YWZ0ZXIge1xuICAgICAgICBjb250ZW50OiBcIlwiO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgICAgLyogQ2VudGVyIHRoZSB0aXAgaG9yaXpvbnRhbGx5LiAqL1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAwKTtcbiAgICAgICAgLyogVGhlIHRpcCBpcyBhIGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vc25pcHBldHMvY3NzL2Nzcy10cmlhbmdsZS8gKi9cbiAgICAgICAgd2lkdGg6IDA7XG4gICAgICAgIGhlaWdodDogMDtcbiAgICAgICAgLyogVGhlIHRpcCBpcyA4cHggaGlnaCwgYW5kIDEycHggd2lkZS4gKi9cbiAgICAgICAgYm9yZGVyLWxlZnQ6IDZweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgICAgYm9yZGVyLXJpZ2h0OiA2cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgICAgIGJvcmRlci10b3A6IC8qIFRJUF9IRUlHSFQ9ICovIDhweCBzb2xpZCB3aGl0ZTtcbn1cbiAgICAgIC8qIEphdmFTY3JpcHQgd2lsbCBwb3NpdGlvbiB0aGlzIGRpdiBhdCB0aGUgYm90dG9tIG9mIHRoZSBwb3B1cCB0aXAuICovXG4ucG9wdXAtY29udGFpbmVyIHtcbiAgICAgICAgY3Vyc29yOiBhdXRvO1xuICAgICAgICBoZWlnaHQ6IDA7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgLyogVGhlIG1heCB3aWR0aCBvZiB0aGUgaW5mbyB3aW5kb3cuICovXG4gICAgICAgIHdpZHRoOiAyMDBweDtcbn1cbiIsIi5wb3B1cC1idWJibGUge1xuICAvKiBQb3NpdGlvbiB0aGUgYnViYmxlIGNlbnRyZWQtYWJvdmUgaXRzIHBhcmVudC4gKi9cbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC0xMDAlKTtcbiAgLyogU3R5bGUgdGhlIGJ1YmJsZS4gKi9cbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gIHBhZGRpbmc6IDVweDtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xuICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcbiAgb3ZlcmZsb3cteTogYXV0bztcbiAgbWF4LWhlaWdodDogNjBweDtcbiAgYm94LXNoYWRvdzogMHB4IDJweCAxMHB4IDFweCByZ2JhKDAsIDAsIDAsIDAuNSk7XG59XG5cbi8qIFRoZSBwYXJlbnQgb2YgdGhlIGJ1YmJsZS4gQSB6ZXJvLWhlaWdodCBkaXYgYXQgdGhlIHRvcCBvZiB0aGUgdGlwLiAqL1xuLnBvcHVwLWJ1YmJsZS1hbmNob3Ige1xuICAvKiBQb3NpdGlvbiB0aGUgZGl2IGEgZml4ZWQgZGlzdGFuY2UgYWJvdmUgdGhlIHRpcC4gKi9cbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB3aWR0aDogMTAwJTtcbiAgYm90dG9tOiA4cHg7XG4gIGxlZnQ6IDA7XG59XG5cbi8qIFRoaXMgZWxlbWVudCBkcmF3cyB0aGUgdGlwLiAqL1xuLnBvcHVwLWJ1YmJsZS1hbmNob3I6OmFmdGVyIHtcbiAgY29udGVudDogXCJcIjtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIC8qIENlbnRlciB0aGUgdGlwIGhvcml6b250YWxseS4gKi9cbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgMCk7XG4gIC8qIFRoZSB0aXAgaXMgYSBodHRwczovL2Nzcy10cmlja3MuY29tL3NuaXBwZXRzL2Nzcy9jc3MtdHJpYW5nbGUvICovXG4gIHdpZHRoOiAwO1xuICBoZWlnaHQ6IDA7XG4gIC8qIFRoZSB0aXAgaXMgOHB4IGhpZ2gsIGFuZCAxMnB4IHdpZGUuICovXG4gIGJvcmRlci1sZWZ0OiA2cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gIGJvcmRlci1yaWdodDogNnB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICBib3JkZXItdG9wOiA4cHggc29saWQgd2hpdGU7XG59XG5cbi8qIEphdmFTY3JpcHQgd2lsbCBwb3NpdGlvbiB0aGlzIGRpdiBhdCB0aGUgYm90dG9tIG9mIHRoZSBwb3B1cCB0aXAuICovXG4ucG9wdXAtY29udGFpbmVyIHtcbiAgY3Vyc29yOiBhdXRvO1xuICBoZWlnaHQ6IDA7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgLyogVGhlIG1heCB3aWR0aCBvZiB0aGUgaW5mbyB3aW5kb3cuICovXG4gIHdpZHRoOiAyMDBweDtcbn0iXX0= */\"","import { Component, OnInit, ElementRef, ViewChild } from '@angular/core';\nimport { NavController } from '@ionic/angular';\nimport { Platform } from '@ionic/angular';\nimport { DatabaseService, User, Drive, VehicleTypes } from '../../services/database.service';\nimport { Chart } from \"chart.js\";\nimport { PipesModule } from '../../pipes/pipes.module';\nimport * as dayjs from 'dayjs';\nimport { ToastController } from '@ionic/angular';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { Device } from '@ionic-native/device/ngx';\nimport * as firebase from 'firebase';\ndeclare var google: any;\n\n@Component({\n  selector: 'app-CmdMap',\n  templateUrl:'./CmdMap.page.html',\n  styleUrls: ['./CmdMap.page.scss'],\n})\n\nexport class CmdMapPage {\n\n  @ViewChild('map', {static: false}) mapElement: ElementRef;\n  map: any;\n  markers = [];\n  ref = firebase.database().ref('geolocations/');\n  popup;\n  Popup;\n  constructor(public navCtrl: NavController,\n    public platform: Platform,\n    private geolocation: Geolocation,\n    public database: DatabaseService,\n    private device: Device) {\n    platform.ready().then(() => {\n      this.initMap();\n    });\n    this.ref.on('value', resp => {\n      this.deleteMarkers();\n      snapshotToArray(resp).forEach(data => {\n          let image = 'assets/car.png';\n          let updatelocation = new google.maps.LatLng(data.latitude,data.longitude);\n          this.addMarker(updatelocation,image,this.database.current.user.name);\n          this.setMapOnAll(this.map);\n      });\n    });\n  }\n  initMap() {\n    console.log(this.database.current.user);\n    this.geolocation.getCurrentPosition({ maximumAge: 3000, timeout: 5000, enableHighAccuracy: true }).then((resp) => {\n    let mylocation = new google.maps.LatLng(resp.coords.latitude,resp.coords.longitude);\n    this.database.current.user.location = {lat: resp.coords.latitude,lng: resp.coords.longitude};\n    this.database.write('user', this.database.current.user.email, this.database.current.user);\n    this.map = new google.maps.Map(this.mapElement.nativeElement, {\n      zoom: 15,\n      center: mylocation\n    });\n  });\n    let watch = this.geolocation.watchPosition();\n    watch.subscribe((data) => {\n      let updatelocation = new google.maps.LatLng(data.coords.latitude,data.coords.longitude);\n      if ((data.coords.latitude, data.coords.longitude) != (this.database.current.user.location.lat, this.database.current.user.location.lng))\n      {\n        this.deleteMarkers();\n        let image = 'assets/car.png';\n        this.addMarker(updatelocation,image, this.database.current.user.name);\n        this.setMapOnAll(this.map);\n        this.database.current.user.location = {lat: data.coords.latitude,lng: data.coords.longitude};\n        this.map.panTo(updatelocation);\n        console.log(this.database.current.user.location);\n        this.database.write('user', this.database.current.user.email, this.database.current.user);\n      }\n      this.setMapOnAll(this.map);\n    });\n    this.Popup = this.createPopupClass();\n    this.popup = new this.Popup(\n      new google.maps.LatLng(this.database.current.user.location.lat, this.database.current.user.location.lng),\n      document.getElementById('content'));\n    this.popup.setMap(this.map);\n  }\n\n  addMarker(location, image, name) {\n    let marker = new google.maps.Marker({\n      position: location,\n      map: this.map,\n      icon: image,\n      label: name\n    });\n    this.markers.push(marker);\n  }\n\n  setMapOnAll(map) {\n    for (var i = 0; i < this.markers.length; i++) {\n      this.markers[i].setMap(map);\n    }\n  }\n\n  clearMarkers() {\n    this.setMapOnAll(null);\n  }\n\n  deleteMarkers() {\n    this.clearMarkers();\n    this.markers = [];\n  }\n\n  createPopupClass() {\n  /**\n   * A customized popup on the map.\n   * @param {!google.maps.LatLng} position\n   * @param {!Element} content The bubble div.\n   * @constructor\n   * @extends {google.maps.OverlayView}\n   */\n    function Popup(position, content) {\n      this.position = position;\n\n      content.classList.add('popup-bubble');\n\n    // This zero-height div is positioned at the bottom of the bubble.\n      var bubbleAnchor = document.createElement('div');\n      bubbleAnchor.classList.add('popup-bubble-anchor');\n      bubbleAnchor.appendChild(content);\n\n    // This zero-height div is positioned at the bottom of the tip.\n      this.containerDiv = document.createElement('div');\n      this.containerDiv.classList.add('popup-container');\n      this.containerDiv.appendChild(bubbleAnchor);\n\n    // Optionally stop clicks, etc., from bubbling up to the map.\n      google.maps.OverlayView.preventMapHitsAndGesturesFrom(this.containerDiv);\n    }\n    // ES5 magic to extend google.maps.OverlayView.\n    Popup.prototype = Object.create(google.maps.OverlayView.prototype);\n\n    /** Called when the popup is added to the map. */\n    Popup.prototype.onAdd = function() {\n      this.getPanes().floatPane.appendChild(this.containerDiv);\n    };\n\n    /** Called when the popup is removed from the map. */\n    Popup.prototype.onRemove = function() {\n      if (this.containerDiv.parentElement) {\n        this.containerDiv.parentElement.removeChild(this.containerDiv);\n      }\n    };\n\n    /** Called each frame when the popup needs to draw itself. */\n    Popup.prototype.draw = function() {\n      var divPosition = this.getProjection().fromLatLngToDivPixel(this.position);\n\n      // Hide the popup when it is far out of view.\n      var display =\n        Math.abs(divPosition.x) < 4000 && Math.abs(divPosition.y) < 4000 ?\n        'block' :\n        'none';\n\n      if (display === 'block') {\n        this.containerDiv.style.left = divPosition.x + 'px';\n        this.containerDiv.style.top = divPosition.y + 'px';\n      }\n      if (this.containerDiv.style.display !== display) {\n        this.containerDiv.style.display = display;\n      }\n    };\n    return Popup;\n  }\n\n  updateGeolocation(uuid, lat, lng) {\n    if(localStorage.getItem('mykey')) {\n      firebase.database().ref('geolocations/'+localStorage.getItem('mykey')).set({\n        uuid: uuid,\n        latitude: lat,\n        longitude : lng\n      });\n    } else {\n      let newData = this.ref.push();\n      newData.set({\n        uuid: uuid,\n        latitude: lat,\n        longitude: lng\n      });\n      localStorage.setItem('mykey', newData.key);\n    }\n  }\n}\n\nexport const snapshotToArray = snapshot => {\n    let returnArr = [];\n\n    snapshot.forEach(childSnapshot => {\n        let item = childSnapshot.val();\n        item.key = childSnapshot.key;\n        returnArr.push(item);\n    });\n\n    return returnArr;\n};\n/*\n\nfor (var driver of this.database.current.all_drivers_of_commander){\n      var drvrloc = new google.maps.LatLng(driver.location.lat,driver.location.lng);\n      let image = 'assets/car.png';\n      this.addMarker(drvrloc,image,driver.name);\n      this.setMapOnAll(this.map);\n    }*/\n"],"sourceRoot":"webpack:///","file":"pages-CmdMap-CmdMap-module-es5.js"}