{"version":3,"sources":["./src/app/pages/summary/summary.page.html","./src/app/pages/summary/summary.module.ts","./src/app/pages/summary/summary.page.scss","./src/app/pages/summary/summary.page.ts"],"names":[],"mappings":"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","file":"pages-summary-summary-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Home</ion-title>\\n    <ion-buttons slot=\\\"primary\\\">\\n      <ion-button left routerLink=\\\"/\\\" routerDirection=\\\"root\\\" fill=\\\"clear\\\" slot=\\\"primary\\\">\\n        Logout<ion-icon name=\\\"log-out\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <ion-grid class=\\\"table\\\" no-padding>\\n\\n    <!-- Top section (Total Distance, Time and Drives) ------------------------------------------->\\n\\n    <ion-row *ngIf=\\\"!getnmtimemorning()\\\">\\n      <ion-col no-padding>\\n        <ion-item text-center color=\\\"danger\\\">\\n          <ion-label><h1><strong>NO MOVE TIMING TILL 0930</strong></h1></ion-label>\\n        </ion-item>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row *ngIf=\\\"!getnmtimenight()\\\">\\n      <ion-col no-padding>\\n        <ion-item text-center color=\\\"danger\\\">\\n          <ion-label><h1><strong>NO MOVE TIMING TILL 1930</strong></h1></ion-label>\\n        </ion-item>\\n      </ion-col>\\n    </ion-row>\\n\\n    <ion-row>\\n      <ion-col no-padding>\\n        <ion-item text-center>\\n        <ion-label style=\\\"margin-bottom: 0;\\\"><h1>Fleet:<strong>{{database.current.user.fleet}}/{{database.current.user.company}}</strong></h1></ion-label>\\n        </ion-item>\\n      </ion-col>\\n    </ion-row>\\n\\n    <ion-row>\\n      <ion-col size=\\\"4\\\" class=\\\"bubble-text\\\" no-padding> \\n\\n        <ion-card (click)=\\\"showmileage()\\\">\\n          <div class=\\\"ion-text-center\\\" style=\\\"width: 100%;\\\">\\n            <ion-icon name=\\\"speedometer\\\" size=\\\"large\\\"></ion-icon><br>\\n            <div class=\\\"shift_up\\\">Distance</div>\\n            <div class=\\\"slide_num\\\">{{database.current.stats.mileage_km}}</div>\\n            <div class=\\\"slide_label shift_up\\\">km</div>\\n            <ion-label *ngIf=\\\"checkMileageStatus()\\\">\\n              <h6 *ngFor=\\\"let vehicle of database.current.stats.most_recent_drive_by_vehicle_type | keyvalue\\\">\\n                {{vehicle.key}} : {{getMileagebyVehicleType(database.current.stats.mileage_by_vehicle_type, vehicle.key)}}\\n              </h6>\\n            </ion-label>\\n          </div>  \\n        </ion-card>\\n      </ion-col>\\n      \\n      <ion-col size=\\\"4\\\" class=\\\"bubble-text\\\">          \\n        <ion-card (click)=\\\"showdrives()\\\">\\n          <div class=\\\"ion-text-center\\\" style=\\\"width: 100%;\\\">\\n            <ion-icon name=\\\"car\\\" size=\\\"large\\\">\\n            </ion-icon><br>\\n              <ion-label>\\n                <div class=\\\"shift_up\\\">Drives</div>\\n              </ion-label>\\n              <ion-label>\\n                <div class=\\\"slide_num\\\">{{database.current.stats.drive_count}}</div>\\n              </ion-label>\\n              <ion-label>\\n                <div class=\\\"slide_label shift_up\\\">Trips</div>\\n              </ion-label>\\n            <ion-label *ngIf=\\\"checkDriveStatus()\\\">\\n              <h6 *ngFor=\\\"let vehicle of database.current.stats.most_recent_drive_by_vehicle_type | keyvalue\\\">\\n                {{vehicle.key}} : {{getDrivesbyVehicleType(vehicle.key)}}\\n              </h6>\\n            </ion-label>\\n          </div>\\n        </ion-card>\\n      </ion-col>\\n\\n      <ion-col size=\\\"4\\\" class=\\\"bubble-text\\\">\\n        <ion-card>\\n          <div class=\\\"ion-text-center\\\" style=\\\"width: 100%;\\\">\\n            <ion-icon name=\\\"clock\\\" size=\\\"large\\\"></ion-icon><br>\\n            <div class=\\\"shift_up\\\">Time</div>\\n            <div class=\\\"slide_num\\\">{{database.current.stats.duration_minutes / 60 | number : '1.0-1' }}</div>\\n            <div class=\\\"slide_label shift_up\\\">Hours</div>\\n          </div>\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n  <!-- Third section (Chart slides) ------------------------------------------->\\n  <ion-slides pager='true' no-padding>\\n    <!--<ion-slide><canvas #chartCanvas1></canvas></ion-slide>-->\\n    <ion-slide style=\\\"padding: 0 5px\\\"><ion-col>\\n      <canvas #chartCanvas4></canvas>\\n      <ion-label position=\\\"stacked\\\" style=\\\"padding-left: 125px\\\" text-right>{{database.current.stats.mileage_km}} km</ion-label>\\n    </ion-col></ion-slide>\\n    <ion-slide  style=\\\"padding: 0 5px\\\"><canvas #chartCanvas3></canvas></ion-slide>\\n    <ion-slide > <ion-grid>\\n      <ion-label><h1 class=\\\"underline\\\">Platform Currency</h1></ion-label>\\n      <ion-item *ngFor=\\\"let vehicle of database.current.stats.most_recent_drive_by_vehicle_type | keyvalue\\\">\\n\\n\\n     <ion-col>\\n       <ion-label>\\n         <h2 *ngIf=\\\"checkOperatorCurrencyValid(database.current.stats.most_recent_drive_by_vehicle_type[vehicle.key])\\\">{{vehicle.key}} :</h2>\\n       </ion-label>\\n       <ion-label  color='danger'>\\n          <h2 *ngIf=\\\"checkOperatorCurrencyInvalid(database.current.stats.most_recent_drive_by_vehicle_type[vehicle.key])\\\">{{vehicle.key}} :</h2>\\n       </ion-label>\\n\\n      Last Drive: {{database.current.stats.most_recent_drive_by_vehicle_type[vehicle.key] | date: \\\"dd/MM/yyyy\\\"}}\\n      ({{database.current.stats.most_recent_drive_by_vehicle_type[vehicle.key] | daysAgo}} days ago)</ion-col>\\n\\n    </ion-item> </ion-grid> </ion-slide>\\n  </ion-slides>\\n\\n\\n<!--\\n      <ion-slide> <ion-grid>\\n\\n         <ion-label><h1>Platform Currency</h1></ion-label>\\n         <ion-item *ngFor=\\\"let vehicle of database.current.stats.most_recent_drive_by_vehicle_type | keyvalue\\\">\\n\\n        <ion-col>\\n          <ion-label color='danger'>\\n            <h2 *ngIf=\\\"checkOperatorCurrencyInvalid(database.current.stats.most_recent_drive[vehicle.key])\\\">{{vehicle.key}} : {{checkOperatordaysCurrencyValid(database.current.stats.most_recent_drive_by_vehicle_type[vehicle.key])}}</h2>\\n          </ion-label>\\n\\n          <ion-label>\\n            <h2 *ngIf=\\\"checkOperatorCurrencyValid(database.current.stats.most_recent_drive_by_vehicle_type[vehicle.key])\\\">{{vehicle.key}} : {{checkOperatordaysCurrencyValid(database.current.stats.most_recent_drive_by_vehicle_type[vehicle.key])}}</h2>\\n          </ion-label>\\n\\n         Last Drive: {{database.current.stats.most_recent_drive_by_vehicle_type[vehicle.key] | date: \\\"dd/MM/yyyy\\\"}}\\n         ({{database.current.stats.most_recent_drive_by_vehicle_type[vehicle.key] | daysAgo}} days ago)</ion-col>\\n     </ion-item></ion-grid></ion-slide>\\n     -->\\n\\n\\n  <!-- Second section (Last Drive, Operator Currency) ------------------------------------------->\\n  <ion-card padding text-center>\\n    <ion-card-title text-center>\\n      <strong>JIT Countdown</strong>\\n    </ion-card-title>\\n\\n    <ion-card-subtitle><strong>\\n\\n      <ion-label color='danger' text-center>\\n        <h2 *ngIf=\\\"checkTimelefttoJIT(database.current.stats.most_recent_drive) == false\\\">\\n          DO JIT NOW!\\n        </h2>\\n      </ion-label>\\n\\n      <ion-label>\\n        <ion-item *ngIf=\\\"checkTimelefttoJIT(database.current.stats.most_recent_drive) == true\\\" style=\\\"padding: 0 55px\\\" text-center>\\n          <countdown [config]=\\\"{leftTime: getTimelefttoJIT(database.current.stats.most_recent_drive), format: 'dd'}\\\"></countdown>\\n          <h6 style=\\\"padding-bottom: 5px\\\">days&ensp;</h6>\\n          <countdown [config]=\\\"{leftTime: getTimelefttoJIT(database.current.stats.most_recent_drive), format: 'HH'}\\\"></countdown>\\n          <h6 style=\\\"padding-bottom: 5px\\\">hrs&ensp;</h6>\\n          <countdown [config]=\\\"{leftTime: getTimelefttoJIT(database.current.stats.most_recent_drive), format: 'mm'}\\\"></countdown>\\n          <h6 style=\\\"padding-bottom: 5px\\\">mins&ensp;</h6>\\n          <countdown [config]=\\\"{leftTime: getTimelefttoJIT(database.current.stats.most_recent_drive), format: 'ss'}\\\"></countdown>\\n          <h6 style=\\\"padding-bottom: 5px\\\">sec&ensp;</h6>\\n        </ion-item>\\n      </ion-label>\\n\\n    </strong></ion-card-subtitle>\\n  </ion-card>\\n\\n  <!--\\n  <ion-card padding>\\n  <ion-card-subtitle><strong>Operator Currency</strong></ion-card-subtitle>\\n  <ion-card-title>Most Recent Drive:</ion-card-title>\\n  <ion-card-content class=\\\"ion-no-padding\\\">\\n    {{database.current.stats.most_recent_drive | date: \\\"dd/MM/yyyy hh:mm\\\"}} ({{database.current.stats.most_recent_drive | daysAgo}} days ago)\\n  </ion-card-content>\\n</ion-card>\\n-->\\n\\n\\n  <!-- Bottom section (Notifications) ------------------------------------------->\\n\\n  <ion-item text-center>\\n    <ion-label><h1><strong>Notifications</strong></h1></ion-label>\\n  </ion-item>\\n\\n  <!--ion-card *ngFor=\\\"let trip of database.current.drive_history\\\">\\n    <app-drive-view expandHeight='150px' [drive]=\\\"trip\\\"></app-drive-view>\\n  </ion-card-->\\n\\n  <ion-card *ngFor=\\\"let message of getNotifications()\\\" padding>\\n\\n    <ion-fab vertical=\\\"top\\\" horizontal=\\\"end\\\">\\n      <ion-fab-button size=\\\"small\\\" (click)=\\\"click(message.trip)\\\"><ion-icon name='share-alt'></ion-icon></ion-fab-button>\\n    </ion-fab>\\n\\n    <ion-card-subtitle color='danger'><strong>{{message.subtitle}}</strong></ion-card-subtitle>\\n    <ion-card-title>{{message.title}}</ion-card-title>\\n\\n    <ion-card-content class=\\\"ion-no-padding\\\">{{message.text}}</ion-card-content>\\n\\n  </ion-card>\\n\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { SummaryPage } from './summary.page';\nimport { DriveViewModule } from '../../drive-view/drive-view.module';\nimport { PipesModule } from '../../pipes/pipes.module';\nimport { CountdownModule } from 'ngx-countdown';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SummaryPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CountdownModule,\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    DriveViewModule,\n    PipesModule\n  ],\n  declarations: [SummaryPage\n  ]\n})\nexport class SummaryPageModule {}\n","export default \"ion-item {\\n  --border-style: none;\\n}\\n\\n.underline {\\n  text-decoration: underline;\\n}\\n\\n.shift_up {\\n  position: relative;\\n  top: -5px;\\n}\\n\\n.slide_num {\\n  font-size: 200%;\\n  font-weight: 900;\\n  text-align: center;\\n  letter-spacing: 2px;\\n}\\n\\n.slide_label {\\n  font-size: small;\\n  letter-spacing: 2px;\\n  font-weight: bolder;\\n}\\n\\n.slide_time {\\n  font-size: 180%;\\n  font-weight: 900;\\n  text-align: center;\\n  letter-spacing: 3px;\\n}\\n\\n.gauge_value {\\n  font-weight: 900;\\n}\\n\\n.top_stats {\\n  font-size: 150%;\\n  font-weight: 900;\\n  text-align: center;\\n}\\n\\n.top_inputs {\\n  font-size: 20px;\\n}\\n\\n.top_labels {\\n  font-size: 25px;\\n  padding-bottom: 5px;\\n}\\n\\n.scrollable {\\n  height: auto;\\n  overflow-y: auto;\\n}\\n\\n.table {\\n  width: 100%;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n          flex-flow: column;\\n  padding-bottom: 0px;\\n  margin-bottom: 0px;\\n}\\n\\n.bubble-text {\\n  padding: 0px;\\n}\\n\\n.vertical-align-content > * {\\n  display: -webkit-box !important;\\n  display: flex !important;\\n  align-content: center !important;\\n  -webkit-box-align: center !important;\\n          align-items: center !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tb2phdmUvRGVza3RvcC9FbmdpbmVlcnNMb2dib29rMi9zcmMvYXBwL3BhZ2VzL3N1bW1hcnkvc3VtbWFyeS5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL3N1bW1hcnkvc3VtbWFyeS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBUUE7RUFDSSxvQkFBQTtBQ1BKOztBRFVBO0VBQ0ksMEJBQUE7QUNQSjs7QURVQTtFQUNFLGtCQUFBO0VBQ0EsU0FBQTtBQ1BGOztBRFVBO0VBQ0ksZUFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtBQ1BKOztBRFdBO0VBQ0ksZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0FDUko7O0FEV0E7RUFDSSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0FDUko7O0FEV0E7RUFDSSxnQkFBQTtBQ1JKOztBRFVBO0VBQ0ksZUFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7QUNQSjs7QURVQTtFQUVJLGVBQUE7QUNSSjs7QURVQTtFQUNJLGVBQUE7RUFDQSxtQkFBQTtBQ1BKOztBRFVBO0VBQ0ksWUFBQTtFQUNBLGdCQUFBO0FDUEo7O0FEVUE7RUFFUSxXQUFBO0VBR0Esb0JBQUE7RUFBQSxhQUFBO0VBQWUsNEJBQUE7RUFBQSw2QkFBQTtVQUFBLGlCQUFBO0VBQ25CLG1CQUFBO0VBQ0Esa0JBQUE7QUNUSjs7QURZQTtFQUVFLFlBQUE7QUNWRjs7QURnQkE7RUFFSywrQkFBQTtFQUFBLHdCQUFBO0VBQ0EsZ0NBQUE7RUFDQSxvQ0FBQTtVQUFBLDhCQUFBO0FDZEwiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9zdW1tYXJ5L3N1bW1hcnkucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLXJvdyB7XG4gIC8vY29sb3I6IGJsYWNrOyAtLWJhY2tncm91bmQ6IHdoaXRlOyBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgLy9jb2xvcjogd2hpdGU7IC0tYmFja2dyb3VuZDogYmxhY2s7IGJhY2tncm91bmQ6IGJsYWNrO1xuICAvL2NvbG9yOiB3aGl0ZTsgLS1iYWNrZ3JvdW5kOiBub25lOyBiYWNrZ3JvdW5kOiBub25lO1xuLy8gIC0tbWluLWhlaWdodDogMWVtOyAgLy8gT3RoZXJ3aXNlLCBpb24taXRlbXMgaGFzIGltcGxpY2l0IG91dGVyIHBhZGRpbmdzIVxuLy8gIGJhY2tncm91bmQ6IHJlZDtcbn1cblxuaW9uLWl0ZW17XG4gICAgLS1ib3JkZXItc3R5bGU6IG5vbmU7XG59XG5cbi51bmRlcmxpbmV7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG59XG5cbi5zaGlmdF91cCB7ICAvLyBTaGlmdCB0ZXh0IHVwd2FyZHMsIHN0aWNraW5nIHRoZSBsYWJlbCBjbG9zZXIgdG8gaWNvblxuICBwb3NpdGlvbjogcmVsYXRpdmU7IFxuICB0b3A6IC01cHg7XG59XG5cbi5zbGlkZV9udW17XG4gICAgZm9udC1zaXplOiAyMDAlO1xuICAgIGZvbnQtd2VpZ2h0OiA5MDA7IC8vQmxhY2sgKEhlYXZ5KSBcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgbGV0dGVyLXNwYWNpbmc6IDJweDtcbiAgICAvL2NvbG9yOiBibGFjaztcbn1cblxuLnNsaWRlX2xhYmVse1xuICAgIGZvbnQtc2l6ZTogc21hbGw7XG4gICAgbGV0dGVyLXNwYWNpbmc6IDJweDtcbiAgICBmb250LXdlaWdodDogYm9sZGVyOyBcbn1cblxuLnNsaWRlX3RpbWV7XG4gICAgZm9udC1zaXplOiAxODAlO1xuICAgIGZvbnQtd2VpZ2h0OiA5MDA7IC8vQmxhY2sgKEhlYXZ5KSBcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgbGV0dGVyLXNwYWNpbmc6IDNweDtcbn1cblxuLmdhdWdlX3ZhbHVle1xuICAgIGZvbnQtd2VpZ2h0OjkwMDtcbn1cbi50b3Bfc3RhdHN7XG4gICAgZm9udC1zaXplOiAxNTAlO1xuICAgIGZvbnQtd2VpZ2h0OiA5MDA7IFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLnRvcF9pbnB1dHN7XG4vLyAgICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiMwMDU3NTA7XG4gICAgZm9udC1zaXplOiAyMHB4OyAgXG59XG4udG9wX2xhYmVsc3tcbiAgICBmb250LXNpemU6IDI1cHg7XG4gICAgcGFkZGluZy1ib3R0b206IDVweDtcblxufVxuLnNjcm9sbGFibGV7XG4gICAgaGVpZ2h0OmF1dG87XG4gICAgb3ZlcmZsb3cteTogYXV0bztcbn1cblxuLnRhYmxle1xuLy8gICAgICAgIHRhYmxlLWxheW91dDogZml4ZWQ7XG4gICAgICAgIHdpZHRoOiAxMDAlOyAgXG4vLyAgICAgICAgYmFja2dyb3VuZDogZ3JlZW47XG4vLyAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICBkaXNwbGF5OiBmbGV4OyBmbGV4LWZsb3c6IGNvbHVtbjtcbiAgICBwYWRkaW5nLWJvdHRvbTogMHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDBweDtcbn1cblxuLmJ1YmJsZS10ZXh0IHtcbiAgLy9iYWNrZ3JvdW5kOiByZWQ7XG4gIHBhZGRpbmc6IDBweDtcbi8vICBib3JkZXItcmFkaXVzOiAxMHB4O1xuLy8gIG1hcmdpbi1ib3R0b206IDRweDtcbi8vICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XG59XG5cbi52ZXJ0aWNhbC1hbGlnbi1jb250ZW50ID4gKlxue1xuICAgICBkaXNwbGF5OiBmbGV4IWltcG9ydGFudDtcbiAgICAgYWxpZ24tY29udGVudDogY2VudGVyIWltcG9ydGFudDtcbiAgICAgYWxpZ24taXRlbXM6IGNlbnRlciFpbXBvcnRhbnQ7XG59IiwiaW9uLWl0ZW0ge1xuICAtLWJvcmRlci1zdHlsZTogbm9uZTtcbn1cblxuLnVuZGVybGluZSB7XG4gIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xufVxuXG4uc2hpZnRfdXAge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogLTVweDtcbn1cblxuLnNsaWRlX251bSB7XG4gIGZvbnQtc2l6ZTogMjAwJTtcbiAgZm9udC13ZWlnaHQ6IDkwMDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBsZXR0ZXItc3BhY2luZzogMnB4O1xufVxuXG4uc2xpZGVfbGFiZWwge1xuICBmb250LXNpemU6IHNtYWxsO1xuICBsZXR0ZXItc3BhY2luZzogMnB4O1xuICBmb250LXdlaWdodDogYm9sZGVyO1xufVxuXG4uc2xpZGVfdGltZSB7XG4gIGZvbnQtc2l6ZTogMTgwJTtcbiAgZm9udC13ZWlnaHQ6IDkwMDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBsZXR0ZXItc3BhY2luZzogM3B4O1xufVxuXG4uZ2F1Z2VfdmFsdWUge1xuICBmb250LXdlaWdodDogOTAwO1xufVxuXG4udG9wX3N0YXRzIHtcbiAgZm9udC1zaXplOiAxNTAlO1xuICBmb250LXdlaWdodDogOTAwO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi50b3BfaW5wdXRzIHtcbiAgZm9udC1zaXplOiAyMHB4O1xufVxuXG4udG9wX2xhYmVscyB7XG4gIGZvbnQtc2l6ZTogMjVweDtcbiAgcGFkZGluZy1ib3R0b206IDVweDtcbn1cblxuLnNjcm9sbGFibGUge1xuICBoZWlnaHQ6IGF1dG87XG4gIG92ZXJmbG93LXk6IGF1dG87XG59XG5cbi50YWJsZSB7XG4gIHdpZHRoOiAxMDAlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWZsb3c6IGNvbHVtbjtcbiAgcGFkZGluZy1ib3R0b206IDBweDtcbiAgbWFyZ2luLWJvdHRvbTogMHB4O1xufVxuXG4uYnViYmxlLXRleHQge1xuICBwYWRkaW5nOiAwcHg7XG59XG5cbi52ZXJ0aWNhbC1hbGlnbi1jb250ZW50ID4gKiB7XG4gIGRpc3BsYXk6IGZsZXggIWltcG9ydGFudDtcbiAgYWxpZ24tY29udGVudDogY2VudGVyICFpbXBvcnRhbnQ7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXIgIWltcG9ydGFudDtcbn0iXX0= */\"","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { NavController } from '@ionic/angular';\nimport { DatabaseService, VehicleTypes, Drive } from '../../services/database.service';\nimport * as dayjs from 'dayjs';\nimport { Chart } from \"chart.js\";\nimport { PipesModule } from '../../pipes/pipes.module';\nimport 'chartjs-plugin-labels';\nimport 'chartjs-chart-radial-gauge';\nimport 'chartjs-tsgauge';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\n\nChart.defaults.global.defaultFontSize = 10;\nChart.defaults.global.maintainAspectRatio = true;\n\n@Component({\n  selector: 'app-summary',\n  templateUrl: './summary.page.html',\n  styleUrls: ['./summary.page.scss'],\n})\n\nexport class SummaryPage implements OnInit {\n\n  constructor( \n    public database: DatabaseService,\n    private navCtrl: NavController,\n    private geolocation: Geolocation,\n  ) { }\n\n  drivestatus = 9 > 10;\n  mileagestatus = 9 > 10;\n  otherstatus = 9 > 10;\n\n  ngOnInit() {\n    this.initCharts();\n    let watch = this.geolocation.watchPosition();\n    watch.subscribe((data) => {\n      if ( ( parseFloat(data.coords.latitude.toFixed(9)), parseFloat(data.coords.longitude.toFixed(9)) ) != (this.database.current.user.location.lat, this.database.current.user.location.lng) )\n      { this.database.current.user.location = {lat: parseFloat(data.coords.latitude.toFixed(9)),lng: parseFloat(data.coords.longitude.toFixed(9))};\n        console.log(this.database.current.user.location);\n        console.log(\"write\");\n        this.database.write('user', this.database.current.user.email, this.database.current.user);\n      }\n    });\n  }\n\n  public checkOperatorCurrencyValid(date:any){\n    const today = dayjs();\n    var period = 8;\n    return today.diff(date,\"day\") < period ;\n  }\n\n  public getnmtimemorning() {\n    var cd = new Date(); // for now\n    var nmtmoringstart = new Date();\n    nmtmoringstart.setHours(7,30,0);\n    var nmtmoringend = new Date();\n    nmtmoringend.setHours(9,30,0);\n    if (cd >= nmtmoringstart && cd < nmtmoringend){\n      return false;\n    }\n    return true;\n  }\n\n  public getnmtimenight() {\n    var cd = new Date(); // for now\n    var nmtnightstart = new Date();\n    nmtnightstart.setHours(7,30,0);\n    var nmtnightend = new Date();\n    nmtnightend.setHours(9,30,0);\n    if (cd >= nmtnightstart && cd < nmtnightend){\n      return false;\n    }\n    return true;\n  }\n\n  public checkOperatordaysCurrencyValid(date:any, vehicletype?:string){\n    const today = dayjs();\n    //var period = vehicletype===\"BELREX\" ? 30 : 7;\n    var period = 8\n    var left = period - today.diff(date,\"day\")\n    if (left < 0) {\n      return \"JIT OVERDUE by \" + Math.abs(left).toString() + \" days\";\n    }\n    else {\n      return left.toString() + \" days left\";\n    }\n  }\n\n  public checkOperatorCurrencyInvalid(date:any){\n    const today = dayjs();\n    var period = 8;\n    return today.diff(date,\"day\") > period ;\n  }\n\n  public showdrives(){\n    this.drivestatus = !this.drivestatus;\n  }\n\n  public checkDriveStatus(){\n    return this.drivestatus;\n  }\n\n  public showmileage(){\n    this.mileagestatus = !this.mileagestatus;\n  }\n\n  public checkMileageStatus(){\n    return this.mileagestatus;\n  }\n\n  public checkTimelefttoJIT(date: any) {\n    const today = dayjs();\n    var period = 8;\n    var left = period - today.diff(date,\"day\");\n    if (left < 0)\n    {\n      return false;\n    }\n    return true;\n  }\n\n  public getTimelefttoJIT(date:any) {\n    var today = dayjs();\n    var period = 7*24*60*60;\n    var left = period - today.diff(date,\"s\");\n    return left;\n  }\n\n  public getMileagebyVehicleType(data: any,vehicle: any) {\n    for (var type of VehicleTypes) {\n      if (type == vehicle) {\n        if (data[type] != null) {\n          return data[type] + \" km\";\n        }\n      }\n    }\n  }\n\n  public getDrivesbyVehicleType(vehicle: any) {\n    for (var type of VehicleTypes) {\n      var drv = 0\n      if (type == vehicle){\n        for (let trip of this.database.current.drive_history) {\n          if (trip.vehicle_type == vehicle) {\n            drv += 1;\n          }\n        }\n      return drv;\n      }\n    }\n  }\n\n\n  public getNotifications() {\n\n    var result: Array<any> = [];\n    for (let trip of this.database.current.drive_history) {\n\n      let date_str = dayjs(`${trip.date} ${trip.start_time}`,'YYYY-MM-DD HH:mm').format('dddd, MMM DD, YYYY');\n      let distance = this.database.distance(trip);\n      let drive_msg = `Completed ${distance} km drive, from ${trip.start_location} (${trip.start_time}) to ${trip.end_location} (${trip.end_time}).`;\n\n      if (trip.status === 'in-progress') {\n        result.push( { \n          subtitle: \"Drive-In-Progress\",\n          title: date_str,\n          text: `Journey started from location ${trip.start_location} at ${trip.start_time}.`,\n          trip: trip\n        });\n      } else\n      if (trip.status === 'pending') {\n        result.push( { \n          subtitle: \"Awaiting Review\",\n          title: date_str,\n          text: drive_msg, \n          trip: trip\n        });\n      } else\n      if (trip.status === 'rejected') {\n        result.push( { \n          subtitle: \"Drive Rejected (Action Required)\",\n          title: date_str,\n          text: drive_msg, \n          trip: trip\n        });\n      }\n    }\n    return result;\n  }\n  \n  public click(drive: Drive): void {\n    this.database.current.drive_to_edit = drive;\n    console.log(`> Navigating to AddDrivePage for drive id=${drive.id}`);\n    this.navCtrl.navigateForward(['/add-drive']);\n  }\n\n  // Charts\n  // References: https://www.joshmorony.com/adding-responsive-charts-graphs-to-ionic-2-applications/  \n\n  @ViewChild(\"chartCanvas1\", {static:true}) chartCanvas1: ElementRef;\n  @ViewChild(\"chartCanvas4\", {static:true}) chartCanvas4: ElementRef;\n  @ViewChild(\"chartCanvas3\", {static:true}) chartCanvas3: ElementRef;\n\n  private initCharts(): void {\n\n\n\n/*\n   this.makeChart1(this.chartCanvas1);\n*/\n    //this.makeChart2(this.chartCanvas2, this.database.current.stats.mileage_by_vehicle_type);\n    this.getStatus();\n\n    this.makeChart4(this.chartCanvas4, this.database.current.stats.mileage_by_vehicle_type, this.database.current.stats.mileage_km);\n    if (this.database.current.stats.mileage_km > 1000 && this.database.current.stats.mileage_km < 4000) {\n      var maxVal= 4000-this.database.current.stats.mileage_km;\n      this.makeChart3(this.chartCanvas3, this.database.current.stats.mileage_km, maxVal, 0);\n    }\n    else if (this.database.current.stats.mileage_km < 1000 && this.database.current.stats.mileage_km < 4000) {\n      var overseas= 1000-this.database.current.stats.mileage_km;\n      var maxVal= 4000-this.database.current.stats.mileage_km;\n      this.makeChart3(this.chartCanvas3, this.database.current.stats.mileage_km, maxVal, overseas);\n    }\n    }\n\n  /*private makeChart1(canvas: ElementRef): Chart {\n    return new Chart(canvas.nativeElement, {\n      type: \"line\",\n      data: {\n        labels: [\"Oct\", \"Nov\", \"Dec\", \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\"],\n        datasets: [\n          {\n            label: \"Your Mileage\",\n            data: [4, 13, 27, 36, 44, 18, 12, 19, 28, 61, 47, 59],\n            borderWidth: 2,\n            borderColor: \"rgba(255,99,132,1)\",\n            backgroundColor: \"rgba(255,99,132,.2)\"\n          },\n          {\n            label: \"Peer Average\",\n            data: [32, 23, 17, 26, 29, 32, 27, 29, 40, 31, 37, 29],\n            borderWidth: 1,\n            borderColor: \"rgba(54, 162, 235, 1)\",\n            backgroundColor: \"rgba(54, 162, 235, .2)\"\n          }\n        ]\n      },\n      options: {\n        title: {\n            display: true,\n            text: 'Your Mileage by Month'\n        },\n        scales: {\n          yAxes: [\n            {\n              ticks: {\n                beginAtZero: true\n              }\n            }\n          ]\n        }\n      }\n    });\n  }*/\n\n  private getStatus(){\n      return false;\n  }\n\n  private makeChart2(canvas: ElementRef, data: any): Chart {\n\n    var mileage = [];\n    for (var type of VehicleTypes) {\n      mileage.push(data[type]);\n    }\n    \n    return new Chart(canvas.nativeElement, {\n      type: \"bar\",\n      data: {\n        labels: VehicleTypes,\n        datasets: [\n        {\n          label: \"Your Mileage by Vehicle Types\",\n//          data: [54, 13, 227, 136],\n          data: mileage,\n          borderWidth: 2,\n          backgroundColor: [\n            \"rgba(255, 99, 132, 0.2)\",\n            \"rgba(54, 162, 235, 0.2)\",\n            \"rgba(255, 206, 86, 0.2)\",\n            \"rgba(75, 192, 192, 0.2)\",\n            \"rgba(153, 102, 255, 0.2)\",\n            \"rgba(255, 159, 64, 0.2)\"\n          ],\n          borderColor: [\n            \"rgba(255,99,132,1)\",\n            \"rgba(54, 162, 235, 1)\",\n            \"rgba(255, 206, 86, 1)\",\n            \"rgba(75, 192, 192, 1)\",\n            \"rgba(153, 102, 255, 1)\",\n            \"rgba(255, 159, 64, 1)\"\n          ],\n        },\n      ]\n      },\n      options: {\n        title: {\n          display: true,\n          text: 'Your Mileage by Vehicle Types'\n        },\n        legend: {\n          display: false\n        },\n        scales: {\n          yAxes: [\n            {\n              ticks: {\n                beginAtZero: true\n              }\n            }\n          ]\n        }\n      }\n    });\n  }\n\n  private makeChart3(canvas: ElementRef, value: number, max_value: number, overseas: number): Chart {\n    return new Chart(canvas.nativeElement, {\n      type:\"doughnut\",\n      data: {\n          labels : [\"Mileage\", \"Overseas\" ,\"Conversion\"],\n          datasets: [\n          {\n            label: \"Licence Conversion\",\n            borderWidth: 1,\n            data : [value, null, max_value],\n            backgroundColor: [\n              \"rgb(255, 99, 132)\",\n              \"rgb(54, 162, 235)\",\n              \"rgb(255, 205, 86)\"],\n            weight: 1.05,\n          },\n          {\n            label: \"Overseas\",\n            borderWidth: 1,\n            data : [value, overseas, null],\n            backgroundColor: [\n              \"rgb(255, 99, 132)\",\n              \"rgb(54, 162, 235)\",\n              \"rgb(255, 205, 86)\"\n            ]\n          }\n          ]\n      },\n      options: {\n        title: {\n          display: true,\n          text: 'Licence Conversion',\n          fontSize: 14,\n        },\n        legend: {\n          display: true,\n          position: \"left\",\n        },\n        plugins: {\n          labels: {\n            render: function(args) {\n              if (args.value > 0.12*overseas) {\n               return args.value+' km';\n               };\n            },\n            arc: true,\n            textShadow: true,\n            shadowBlur: 10,\n            shadowColor: 'rgba(0,0,0,0.4)',\n            fontColor: 'rgba(0,0,0,1)',\n          },\n        },\n        circumference: Math.PI,\n        rotation : Math.PI,\n        cutoutPercentage : 80,\n      }\n    });\n  }\n\n  private makeChart4(canvas: ElementRef, data: any, total_mileage: number): Chart {\n    var mileage = [];\n    var i = -1;\n    var drives = [];\n    var values = []\n    var data_array = [0,0,0,0,0,total_mileage];\n    for (var type of VehicleTypes) {\n      var data_array = [0,0,0,0,0,total_mileage];\n      if (data[type] != null){\n        i += 1;\n        data_array[i] = data[type];\n        values.push(data[type]);\n        data_array.pop();\n        data_array.push(total_mileage-data[type]);\n        drives.push(type);\n        var newDataset = {\n          backgroundColor: [\n            \"rgba(255,99,132,1)\",\n            \"rgba(54, 162, 235, 1)\",\n            \"rgba(255, 206, 86, 1)\",\n            \"rgba(75, 192, 192, 1)\",\n            \"rgba(153, 102, 255, 1)\",],\n          borderColor: [\n            \"rgba(255,99,132,1)\",\n            \"rgba(54, 162, 235, 1)\",\n            \"rgba(255, 206, 86, 1)\",\n            \"rgba(75, 192, 192, 1)\",\n            \"rgba(153, 102, 255, 1)\",],\n          data: data_array,\n          label: type,\n          borderWidth: 1,\n          responsive: true,\n        };\n      mileage.push(newDataset);\n      };\n    };\n\n    return new Chart(canvas.nativeElement, {\n      type:\"doughnut\",\n      data: {\n        datasets: mileage,\n        labels: drives,\n      },\n      options: {\n        //showMarkers: true,\n        legend: {\n          display: true,\n          position: \"right\",\n        },\n        title: {\n          display: true,\n          text: 'Your Mileage by Vehicle Types',\n          fontSize: 14,\n        },\n        plugins: {\n          labels: {\n            render: function(args) {\n              if (values.findIndex(x => x === args.value) != -1) {\n                return args.value+' km'};\n            },\n            arc: true,\n            textShadow: true,\n            shadowBlur: 10,\n            shadowColor: 'rgba(0,0,0,0.4)',\n            fontColor: 'rgba(0,0,0,1)',\n          },\n        },\n        circumference: Math.PI,\n        rotation : Math.PI,\n        cutoutPercentage : 45,\n        maintainAspectRatio: true,\n        responsive: true,\n      }\n    });\n  }\n}\n"],"sourceRoot":"webpack:///"}