{"version":3,"sources":["./src/app/reportvehicle/reportvehicle.page.html","./src/app/reportvehicle/reportvehicle.module.ts","./src/app/reportvehicle/reportvehicle.page.scss","./src/app/reportvehicle/reportvehicle.page.ts"],"names":[],"mappings":"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","file":"reportvehicle-reportvehicle-module-es2015.js","sourcesContent":["export default \"<ion-header translucent>\\n  <ion-toolbar>\\n    <ion-title>Vehicle & Incident Details</ion-title>\\n  </ion-toolbar>\\n\\n</ion-header>\\n\\n<ion-content>\\n  <form class=\\\"form\\\" [formGroup]=\\\"addDriveForm\\\" (submit)=\\\"addDrive(addDriveForm.value)\\\">\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col>\\n          <ion-item text-wrap>\\n            <ion-label position=\\\"floating\\\">driving area</ion-label>\\n            <ion-select formControlName=\\\"incamp\\\" interface=\\\"popover\\\">\\n              <ion-select-option text-wrap value=true>In Camp</ion-select-option>\\n              <ion-select-option text-wrap value=false *ngIf=\\\"gettime()\\\">Out of Camp</ion-select-option>\\n            </ion-select>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col>\\n          <ion-item >\\n            <ion-label position=\\\"floating\\\">Vehicle Number</ion-label>\\n            <ion-input onkeyup=\\\"this.value = this.value.toUpperCase()\\\" formControlName=\\\"vehicleNumber\\\"></ion-input>\\n          </ion-item>\\n          <div class=\\\"validation-errors\\\">\\n            <ng-container *ngFor=\\\"let validation of validationMessages.vehicleNumber\\\">\\n              <div class=\\\"error-message\\\"\\n                *ngIf=\\\"addDriveForm.get('vehicleNumber').hasError(validation.type) && (addDriveForm.get('vehicleNumber').dirty || addDriveForm.get('vehicleNumber').touched)\\\">\\n                {{ validation.message }}\\n              </div>\\n            </ng-container>\\n          </div>\\n        </ion-col>\\n\\n        <ion-col>\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\">Vehicle Type</ion-label>\\n            <ion-select formControlName=\\\"vehicleType\\\" interface=\\\"popover\\\">\\n              <ion-select-option text-wrap *ngFor=\\\"let vty of getapprovedvtypes()\\\" value={{vty}}>{{vty}}</ion-select-option>\\n            </ion-select>\\n          </ion-item>\\n          <div class=\\\"validation-errors\\\">\\n            <ng-container *ngFor=\\\"let validation of validationMessages.vehicleType\\\">\\n              <div class=\\\"error-message\\\"\\n                *ngIf=\\\"addDriveForm.get('vehicleType').hasError(validation.type) && (addDriveForm.get('vehicleType').dirty || addDriveForm.get('vehicleType').touched)\\\">\\n                {{ validation.message }}\\n              </div>\\n            </ng-container>\\n          </div>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col>\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\">Vehicle Commander</ion-label>\\n            <ion-select formControlName=\\\"vehicleCommander\\\" interface=\\\"popover\\\">\\n              <ion-select-option *ngFor=\\\"let c of database.current.all_commanders_of_driver\\\" value={{c.email}}>{{c.name}}\\n              </ion-select-option>\\n            </ion-select>\\n          </ion-item>\\n          <div class=\\\"validation-errors\\\">\\n            <ng-container *ngFor=\\\"let validation of validationMessages.vehicleCommander\\\">\\n              <div class=\\\"error-message\\\"\\n                *ngIf=\\\"addDriveForm.get('vehicleCommander').hasError(validation.type) && (addDriveForm.get('vehicleCommander').dirty || addDriveForm.get('vehicleCommander').touched)\\\">\\n                {{ validation.message }}\\n              </div>\\n            </ng-container>\\n          </div>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n\\n    <ion-card>\\n      <ion-card-content>\\n        <ion-item lines=\\\"none\\\" no-padding>\\n          <ion-icon name=\\\"pin\\\" size=\\\"large\\\" color=\\\"primary\\\"></ion-icon>\\n          <ion-label> Drive Details </ion-label>\\n        </ion-item>\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\">Start Location</ion-label>\\n          <ion-input type=\\\"text\\\" onkeyup=\\\"this.value = this.value.toUpperCase()\\\" formControlName=\\\"startLocation\\\"></ion-input>\\n        </ion-item>\\n        <div class=\\\"validation-errors\\\">\\n          <ng-container *ngFor=\\\"let validation of validationMessages.startLocation\\\">\\n            <div class=\\\"error-message\\\"\\n              *ngIf=\\\"addDriveForm.get('startLocation').hasError(validation.type) && (addDriveForm.get('startLocation').dirty || addDriveForm.get('startLocation').touched)\\\">\\n              {{ validation.message }}\\n            </div>\\n          </ng-container>\\n        </div>\\n\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\">Current Location</ion-label>\\n          <ion-input type=\\\"text\\\" onkeyup=\\\"this.value = this.value.toUpperCase()\\\" formControlName=\\\"endLocation\\\" placeholder=\\\"Current Location Address\\\"></ion-input>\\n        </ion-item>\\n        <div class=\\\"validation-errors\\\">\\n          <ng-container *ngFor=\\\"let validation of validationMessages.endLocation\\\">\\n            <div class=\\\"error-message\\\"\\n                 *ngIf=\\\"addDriveForm.get('endLocation').hasError(validation.type) && (addDriveForm.get('endLocation').dirty || addDriveForm.get('endLocation').touched)\\\">\\n              {{ validation.message }}\\n            </div>\\n          </ng-container>\\n        </div>\\n\\n        <ion-item>\\n          <ion-label floating>Description</ion-label>\\n          <ion-textarea formControlName=\\\"driveComments\\\" placeholder=\\\"Describe the incident (what happened? which part of vehicle is damaged?)\\\"></ion-textarea>\\n        </ion-item>\\n        <div class=\\\"validation-errors\\\">\\n          <ng-container *ngFor=\\\"let validation of validationMessages.driveComments\\\">\\n            <div class=\\\"error-message\\\"\\n                 *ngIf=\\\"addDriveForm.get('driveComments').hasError(validation.type) && (addDriveForm.get('driveComments').dirty || addDriveForm.get('driveComments').touched)\\\">\\n              {{ validation.message }}\\n            </div>\\n          </ng-container>\\n        </div>\\n\\n      </ion-card-content>\\n    </ion-card>\\n\\n    <div class=\\\"btn-wrapper\\\">\\n      <div *ngIf = showSubmit()>\\n        <ion-button *ngIf = this.database.current.user.is_commander routerLink=\\\"/tabs/commander\\\">Cancel</ion-button>\\n        <ion-button *ngIf = !this.database.current.user.is_commander routerLink=\\\"/tabs/summary\\\">Cancel</ion-button>\\n        <ion-button *ngIf = this.database.current.user.is_commander class=\\\"submit-btn\\\" type=\\\"submit\\\" [disabled]=\\\"!addDriveForm.valid\\\" style=\\\"padding-right:10px\\\">Submit\\n        </ion-button>\\n        <ion-button *ngIf = !this.database.current.user.is_commander class=\\\"submit-btn\\\" type=\\\"submit\\\" [disabled]=\\\"!addDriveForm.valid\\\" style=\\\"padding-right:10px\\\">Submit\\n        </ion-button>\\n      </div>\\n      <div *ngIf = !showSubmit()>\\n            <ion-button *ngIf = !this.database.current.user.is_commander expand=\\\"block\\\" routerLink=\\\"/tabs/summary\\\">OK</ion-button>\\n            <ion-button *ngIf = this.database.current.user.is_commander expand=\\\"block\\\" routerLink=\\\"/tabs/commander\\\">OK</ion-button>\\n      </div>\\n    </div>\\n  </form>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ReportVehiclePage } from './reportvehicle.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ReportVehiclePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ReportVehiclePage]\n})\nexport class ReportVehiclePageModule {}\n","export default \"ion-input {\\n  text-transform: uppercase;\\n  color: primary !important;\\n}\\n\\nion-card-title {\\n  --color:--ion-color-primary-contrast-rgb;\\n}\\n\\n.btn-wrapper {\\n  text-align: center;\\n}\\n\\n.input[type=number] {\\n  -moz-appearance: textfield;\\n}\\n\\n.input[type=number]::-webkit-inner-spin-button {\\n  display: none;\\n}\\n\\nion-textarea {\\n  min-height: auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy95YXNoZGl4aXQvRG93bmxvYWRzL0VuZ2luZWVyc0xvZ2Jvb2syL3NyYy9hcHAvcmVwb3J0dmVoaWNsZS9yZXBvcnR2ZWhpY2xlLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcmVwb3J0dmVoaWNsZS9yZXBvcnR2ZWhpY2xlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFLQTtFQUNFLHlCQUFBO0VBQ0EseUJBQUE7QUNKRjs7QURPQTtFQUNFLHdDQUFBO0FDSkY7O0FET0E7RUFDRSxrQkFBQTtBQ0pGOztBRFFBO0VBRUUsMEJBQUE7QUNORjs7QURLRTtFQUE4QixhQUFBO0FDRmhDOztBRE1BO0VBQ0UsZ0JBQUE7QUNIRiIsImZpbGUiOiJzcmMvYXBwL3JlcG9ydHZlaGljbGUvcmVwb3J0dmVoaWNsZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbioge1xuLy8gIG9wYWNpdHk6IDEgIWltcG9ydGFudDsgIC8vIGRpc2FibGVkIGl0ZW1zIHdpbGwgbm90IGJlIGdyZXkgb3V0LlxufVxuXG5pb24taW5wdXR7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gIGNvbG9yOiBwcmltYXJ5IWltcG9ydGFudDtcbn1cblxuaW9uLWNhcmQtdGl0bGV7XG4gIC0tY29sb3I6LS1pb24tY29sb3ItcHJpbWFyeS1jb250cmFzdC1yZ2I7XG59XG5cbi5idG4td3JhcHBlciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLy8gZG8gbm90IHNob3cgc3Bpbm5lciBmb3IgbnVtYmVyIGlucHV0c1xuLmlucHV0W3R5cGU9bnVtYmVyXSB7ICBcbiAgJjo6LXdlYmtpdC1pbm5lci1zcGluLWJ1dHRvbnsgZGlzcGxheTogbm9uZTsgfVxuICAtbW96LWFwcGVhcmFuY2U6dGV4dGZpZWxkO1xufVxuXG5pb24tdGV4dGFyZWF7XG4gIG1pbi1oZWlnaHQ6IGF1dG87XG4gIH0iLCJpb24taW5wdXQge1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICBjb2xvcjogcHJpbWFyeSAhaW1wb3J0YW50O1xufVxuXG5pb24tY2FyZC10aXRsZSB7XG4gIC0tY29sb3I6LS1pb24tY29sb3ItcHJpbWFyeS1jb250cmFzdC1yZ2I7XG59XG5cbi5idG4td3JhcHBlciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLmlucHV0W3R5cGU9bnVtYmVyXSB7XG4gIC1tb3otYXBwZWFyYW5jZTogdGV4dGZpZWxkO1xufVxuLmlucHV0W3R5cGU9bnVtYmVyXTo6LXdlYmtpdC1pbm5lci1zcGluLWJ1dHRvbiB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG5cbmlvbi10ZXh0YXJlYSB7XG4gIG1pbi1oZWlnaHQ6IGF1dG87XG59Il19 */\"","import { Component, OnInit, wtfStartTimeRange } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators, FormControl } from '@angular/forms';\nimport { NavController } from '@ionic/angular';\nimport { DatabaseService, Drive, VehicleTypes } from '../services/database.service';\nimport { ToastController } from '@ionic/angular';\nimport { ActivatedRoute } from '@angular/router';\nimport * as dayjs from 'dayjs'; // DateTime utility, See http://zetcode.com/javascript/dayjs/\n\n@Component({\n  selector: 'app-reportvehicle',\n  templateUrl: './reportvehicle.page.html',\n  styleUrls: ['./reportvehicle.page.scss'],\n})\n\nexport class ReportVehiclePage implements OnInit {\n\n  addDriveForm: FormGroup;\n  endDriveForm: FormGroup;\n  errorMessage = '';\n  successMessage = '';\n  toast: any;\n  today = new Date().toISOString();\n  drive;\n  updateStatus;\n  showStatus = true;\n  isToggled = false;\n  isDisabled;\n  report;\n\n  validationMessages = {\n    date: [\n      { type: 'required', message: 'Date is required.' }],\n    vehicleNumber: [\n      { type: 'required', message: 'Vehicle Number is required.' },\n      { type: 'minlength', message: 'Vehicle number must be at least 5 characters long.' }\n    ],\n    vehicleType: [\n      { type: 'required', message: 'Select a type of vehicle' },\n    ],\n    vehicleCommander: [\n      { type: 'required', message: 'Select the Vehicle Commanders Name' },\n    ],\n    endLocation: [\n      { type: 'required', message: 'Enter current location address' },\n    ],\n    driveComments: [\n      { type: 'required', message: 'Enter description of incident' },\n    ],\n  };\n\n  constructor(\n    private navCtrl: NavController,\n    private formBuilder: FormBuilder,\n    public toastController: ToastController,\n    public database: DatabaseService,\n    public route: ActivatedRoute\n  ) { }\n\n  gettime() {\n    var cd = new Date(); // for now\n    var nmtmoringstart = new Date();\n    nmtmoringstart.setHours(7,30,0);\n    var nmtmoringend = new Date();\n    nmtmoringend.setHours(9,30,0);\n    var nmtnightstart = new Date();\n    nmtnightstart.setHours(17,30,0);\n    var nmtnightend = new Date();\n    nmtnightend.setHours(19,30,0);\n    if (cd >= nmtmoringstart && cd < nmtmoringend){\n      return false;\n    }\n    if (cd >= nmtnightstart && cd < nmtnightend){\n      return false;\n    }\n    return true;\n  }\n\n  public getapprovedvtypes(): string[] {\n        var vtypes =  VehicleTypes\n        if (this.database.current.user.mss_certified != true) {\n            vtypes = vtypes.filter( vtype => vtype != 'MSS');\n        }\n        if (this.database.current.user.flb_certified != true) {\n            vtypes = vtypes.filter( vtype => vtype != 'FLB');\n        }\n        if (this.database.current.user.belrex_certified != true) {\n            vtypes = vtypes.filter( vtype => vtype != 'BELREX');\n        }\n        return vtypes\n\n  }\n\n  ngOnInit() {\n    // Create form group of controls\n    this.addDriveForm = this.formBuilder.group({\n      date: new FormControl(this.today, Validators.compose([Validators.required])),\n      vehicleNumber: new FormControl('', Validators.compose([Validators.minLength(5), Validators.required])),\n      vehicleType: new FormControl('', Validators.compose([Validators.required])),\n      vehicleCommander: new FormControl('', Validators.compose([Validators.required])),\n      startLocation: new FormControl('', Validators.compose([Validators.required])),\n      startTime: new FormControl(this.today, Validators.compose([Validators.required])),\n      endTime: new FormControl(this.today, Validators.compose([Validators.required])),\n      endLocation: new FormControl('', Validators.compose([Validators.required])),\n      endOdometer: new FormControl('', Validators.compose([Validators.required])),\n      incamp: new FormControl (''),\n      driveComments: new FormControl('', Validators.compose([Validators.required])),\n    });\n\n  //  this.updateStatus = false;\n  //  this.isDisabled = false;\n\n    // get the drive the user selected\n    this.drive = this.database.current.drive_to_edit;\n    if (this.drive != null) {\n      console.log('In add drive page: drive id:' + this.drive.id);\n    }\n    // Has gotten the info so reset drive_to_edit\n    this.database.current.drive_to_edit = null;\n\n    /* if user did not select any drive, ie user clicked on fab button,\n        check if there is an incompleted drive\n     */\n    if (this.drive == null) {\n      this.drive = this.database.current.drive_in_progress;\n    }\n    if (this.drive) {\n      console.log('drive status: ' + this.drive.status);\n      console.log('is commander: ' + this.database.current.user.is_commander);\n    }\n    if (this.drive == null) { // start a new drive\n      this.startDriveControls();\n      this.updateStatus = false;\n      this.isDisabled = false;\n      this.showStatus = false;\n    } else {  // retrieving an existing drive\n      if (this.drive.status === 'pending' || this.drive.status === 'in-progress') {\n        // view only\n        console.log('viewing a drive');\n        this.updateStatus = false;\n        this.showStatus = true;\n        this.viewDriveControls();\n      } else if (this.drive.status === 'in-progress' && !this.database.current.user.is_commander) {\n        // driver enter details to complete drive\n        console.log('completing an in-progress drive - driver');\n        this.updateStatus = false;\n        this.isDisabled = false;\n        this.showStatus = false;\n        this.endDriveControls();\n      }\n    }\n  }\n\n  viewDriveControls()\n  {\n    this.addDriveForm.disable();\n //   this.isDisabled = this.addDriveForm.disabled;\n    console.log('form is disabled? ' + this.isDisabled);\n    console.log('update status? ' + this.updateStatus);\n    this.setStartDriveDetails();\n    this.endDriveControls();\n    }\n\n  startDriveControls() {\n    this.addDriveForm.get('date').setValue(this.today);\n    this.addDriveForm.get('startTime').setValue(this.today);\n    // clear validators for end drive controls\n  }\n\n  endDriveControls() {\n    console.log('incomplete drive exist');\n    this.setStartDriveDetails();\n    // set end Time to current time\n    const time2 = dayjs(new Date(this.today)).format('HH:mm');\n    this.addDriveForm.get('endTime').setValue(time2);\n    this.addDriveForm.get('driveComments').enable();\n    this.addDriveForm.get('endLocation').enable();\n  }\n\n  setStartDriveDetails() {\n    // Stage-1 details\n    // populate values of start drive fields\n    this.addDriveForm.get('date').setValue(this.drive.date);\n    this.addDriveForm.get('vehicleNumber').setValue(this.drive.vehicle.toUpperCase());\n    this.addDriveForm.get('vehicleType').setValue(this.drive.vehicle_type);\n    this.addDriveForm.get('vehicleCommander').setValue(this.drive.commander);\n    this.addDriveForm.get('startLocation').setValue(this.drive.start_location.toUpperCase());\n    this.addDriveForm.get('startTime').setValue(this.drive.start_time);\n    this.addDriveForm.get('incamp').setValue(this.drive.incamp);\n    console.log('start time: ' + this.addDriveForm.value.startTime);\n  }\n\n  async addDrive(value) {\n      var new_report = {\n          created: this.database.getTimeStamp(),\n          driver: this.database.current.user.email,\n          status: \"in-progress\",\n          vehicle_number: this.drive.vehicle,\n          vehicle_type: this.drive.vehicle_type,\n          commander: this.drive.commander,\n          date: (this.addDriveForm.value.date).split('T')[0],\n          start_location: this.drive.start_location,\n          start_time: this.drive.start_time,\n          fleet: this.database.current.user.fleet,\n          company: this.database.current.user.company,\n          incamp: this.addDriveForm.value.incamp,\n          incident_location: this.addDriveForm.value.endLocation,\n          description: this.addDriveForm.value.driveComments,\n          incident_coordinates: this.database.current.user.location,\n        };\n      await this.database.write('vehiclebreakdown', this.drive.id, new_report);\n      this.successMessage = 'Your report has been sent.';\n      this.showToast(this.successMessage);\n      this.navCtrl.pop();\n  }\n\n  showToast(msg) {\n    this.toastController.create({\n      message: msg,\n      duration: 2000,\n      //  showCloseButton: true,\n      //  closeButtonText: 'OK',\n      position: 'middle'\n    }).then((obj) => {\n      obj.present();\n    });\n  }\n\n  onCancel() {\n    this.navCtrl.pop();\n  }\n\n  showSubmit() {\n    if (!this.isDisabled) { return true; }\n    return false;\n  }\n}\n"],"sourceRoot":"webpack:///"}