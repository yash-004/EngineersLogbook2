(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["mtrac-mtrac-module"],{

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/mtrac/mtrac.page.html":
/*!*****************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/mtrac/mtrac.page.html ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header translucent>\n  <ion-toolbar>\n    <div>\n      <h1 style=\"margin-left: 10px;\"><strong>MT RISK ASSESSMENT CHECKLIST (MT-RAC)</strong></h1>\n    </div>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <div>\n    <h5 style=\"text-align:right; margin-right: 10px;\"><strong><u>SAF 1200</u></strong></h5>\n    <h5 style=\"text-align:center;\"><strong><u>MT RISK ASSESSMENT CHECKLIST (MT-RAC)</u></strong></h5>\n    <h6 style=\"margin-left: 10px;\"><strong><u>ABOUT THE MT RAC FORM</u></strong><br></h6>\n    <h6 style=\"margin-left: 10px;\">It enables the drivers / riders to assess the risk level involved in their driving / riding detail. It allows the drivers / riders to make an informed decision as to whether to carry on with the detail.</h6>\n  </div>\n    <ion-item lines=\"none\" no-padding>\n    <ion-grid style=\"margin-left: 5px;\">\n      <ion-row class=\"cell-class\">\n        <ion-col size=\"2\">\n          <div>\n            <h6 style=\"text-align:center\"><strong>FACTORS</strong></h6>\n          </div>\n        </ion-col>\n        <ion-col class=\"cell-class\" style=\"margin-left : -1px\">\n          <div>\n            <h6 style=\"text-align:center\"><strong>MEANING</strong></h6>\n          </div>\n        </ion-col>\n      </ion-row>\n      <ion-row align-items-center class=\"cell-class\">\n        <ion-col size=\"2\">\n          <div>\n            <h6 style=\"text-align:center\">MAN</h6>\n          </div>\n        </ion-col>\n        <ion-col class=\"cell-class\" style=\"margin-left : -1px\">\n          <div>\n            <h6 style=\"text-align:left\">This refers to the driver / rider and in particular his driving / riding experience and accident record.<br>How well he has rested before the detail is also important.</h6>\n          </div>\n        </ion-col>\n      </ion-row>\n      <ion-row align-items-center class=\"cell-class\">\n        <ion-col size=\"2\">\n          <div>\n            <h6 style=\"text-align:center\">MACHINE</h6>\n          </div>\n        </ion-col>\n        <ion-col class=\"cell-class\" style=\"margin-left : -1px\">\n          <div>\n            <h6 style=\"text-align:left\">This refers to the condition of the vehicle / motorcycle, which they are handling on the road.<br>A faulty vehicle / motorcycle will heighten the risk level.</h6>\n          </div>\n        </ion-col>\n      </ion-row>\n      <ion-row align-items-center class=\"cell-class\">\n        <ion-col size=\"2\">\n          <div>\n            <h6 style=\"text-align:center\">MISSION</h6>\n          </div>\n        </ion-col>\n        <ion-col class=\"cell-class\" style=\"margin-left : -1px\">\n          <div>\n            <h6 style=\"text-align:left\">This type of transport detail will have an effect on the risk level.<br>An administrative detail will have less risk than a training detail, which requires them to drive / ride in difficult cross-country terrain.</h6>\n          </div>\n        </ion-col>\n      </ion-row>\n      <ion-row align-items-center class=\"cell-class\">\n        <ion-col size=\"2\">\n          <div>\n            <h6 style=\"text-align:center\">MEDIUM</h6>\n          </div>\n        </ion-col>\n        <ion-col class=\"cell-class\" style=\"margin-left : -1px\">\n          <div>\n            <h6 style=\"text-align:left\">This refers mainly to the road conditions under which the driver / rider operates.<br>Their prevailing conditions will have a direct effect on the driver / rider.</h6>\n          </div>\n        </ion-col>\n      </ion-row>\n      <ion-row align-items-center class=\"cell-class\">\n        <ion-col size=\"2\">\n          <div>\n            <h6 style=\"text-align:center\">MANAGEMENT</h6>\n          </div>\n        </ion-col>\n        <ion-col class=\"cell-class\" style=\"margin-left : -1px\">\n          <div>\n            <h6 style=\"text-align:left\">Close supervision of the driver / rider will contribute to risk minimisation.<br>Assignment of Vehicle Commander of a high rank will have a psychological effect on the driver to do better.</h6>\n          </div>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </ion-item>\n\n  <ion-item lines=\"none\" no-padding>\n    <ion-grid style=\"margin-left: 5px;\">\n      <ion-row>\n        <ion-col class=\"cell-class\">\n          <div>\n            <h6 style=\"text-align:center\"><strong>RISK LEVEL</strong></h6>\n          </div>\n        </ion-col>\n      </ion-row>\n      <ion-row align-items-center class=\"cell-class\">\n        <ion-col>\n          <div>\n            <h6 style=\"text-align:center\"><strong>LOW RISK</strong></h6>\n          </div>\n        </ion-col>\n        <ion-col class=\"cell-class\" style=\"margin-left : -1px;\">\n          <div>\n            <h6 style=\"text-align:center\"><strong>MEDIUM RISK</strong></h6>\n          </div>\n        </ion-col>\n        <ion-col>\n          <div>\n            <h6 style=\"text-align:center\"><strong>HIGH RISK</strong></h6>\n          </div>\n        </ion-col>\n      </ion-row>\n      <ion-row align-items-center class=\"cell-class\">\n        <ion-col>\n          <div>\n            <h6 style=\"text-align:center\">Normal operational risk.</h6>\n          </div>\n        </ion-col>\n        <ion-col class=\"cell-class\" style=\"margin-left : -1px;\">\n          <div>\n            <h6 style=\"text-align:center\">Above normal operational risk level.<br>Increase supervision, briefing and exercise caution, Mission may be suspended till conditions are better.</h6>\n          </div>\n        </ion-col>\n        <ion-col>\n          <div>\n            <h6 style=\"text-align:center\">Do not proceed with mission unless approved by higher authorities.<br><strong>All high risk factors must be mitigated.</strong></h6>\n          </div>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </ion-item>\n\n  <ion-item lines=\"none\" no-padding>\n    <ion-grid style=\"margin-left: 5px;\">\n      <ion-row class=\"cell-class\">\n        <ion-col>\n          <div>\n            <h6 style=\"text-align:center\"><strong>List of Common Vehicle Defects</strong></h6>\n          </div>\n        </ion-col>\n      </ion-row>\n      <ion-row class=\"cell-class\">\n        <ion-col class=\"cell-class\">\n          <div>\n            <h6 style=\"text-align:center\"><strong>Major Defects</strong></h6>\n          </div>\n        </ion-col>\n        <ion-col class=\"cell-class\">\n          <div>\n            <h6 style=\"text-align:center\"><strong>Minor Defects</strong></h6>\n          </div>\n        </ion-col>\n      </ion-row>\n      <ion-row class=\"cell-class\">\n        <ion-col class=\"cell-class\">\n          <div>\n            <h6 style=\"text-align:left\">- Emitting black or white smoke<br>\n              - Exhaust silencer leaking<br>\n              - Speedometer not working<br>\n              - Horn not working<br>\n              - Signal Indicator not working<br>\n              - Brake light not working<br>\n              - Headlights not working<br>\n              - Tail lights not working<br>\n              - No Mirrors / <strong>Loose mirror</strong> / <strong>Blurred mirror</strong><br>\n              - Windscreen shattered / crack<br>\n              - Wiper not working<br>\n              - Unusual noise or vibration from engine<br>\n              - Brakes not effective<br>\n              - Engine oil level below the minimum level, exceed maximum level<br>\n              - Bald tyre<br>\n              - Door not closing properly<br>\n              - Radiator water leaking<br>\n              - Speed Warning Device not working<br>\n              - Unserviceable Front/Rear (Safety Belt)<br>\n              - Unserviceable Safety strap<br>\n              - Pintle securing pin missing (Not fit for towing)</h6>\n          </div>\n        </ion-col>\n        <ion-col class=\"cell-class\">\n          <div>\n            <h6 style=\"text-align:left\">- Weak batteries<br>\n              - Battery water too low<br>\n              - Temperature gauge and other panel gauges not working<br>\n              - Incorrect tyre pressure<br>\n              - Vehicle body dented<br>\n              - Superstructure damaged or broken<br>\n              - Canopy torn<br>\n              - Tailboard strap missing<br>\n              - No self-centering (Steering system)<br>\n              - Steering free-play too much<br>\n              - Fan belt worn or slacked<br>\n              - Weak suspension coil spring<br>\n              - Towing pin missing (Not fit for towing)<br>\n              - Pintle securing pin missing (Not fit for towing) to major fault</h6>\n          </div>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </ion-item>\n  <div>\n    <h6 style=\"margin-left: 10px;\"><strong><u>Briefing and ensuring notes for TO/ DV/ LOA Drivers</u></strong><br></h6>\n\n    <h6 style=\"margin-left: 10px;\"><ol type=\"a\">\n      <li>Check and ensure seating capacity, if exceeds (Please do not proceed on with the detail)</li>\n      <li>Brief troops to engage seat belt throughout the journey</li>\n      <li>Assist the troops in engaging the safety straps. Safety straps are to be engaged throughout the journey.</li>\n      <li>Brief \"no smoking / sleeping on vehicle\" throughout the journey</li>\n      <li>Nobody is to move while the vehicle is on the move</li>\n      <li>No sitting on the tailboard at all times</li>\n    </ol></h6>\n\n    <h6 style=\"margin-left: 10px;\"><strong>* For any matters please seek vehicle commander's assistance</strong><br></h6>\n  </div>\n  <div>\n    <h5 style=\"text-align:right; margin-right: 10px;\"><strong><u>SAF 1200</u></strong></h5>\n    <h5 style=\"text-align:center;\"><strong><u>MT RISK ASSESSMENT CHECKLIST (MT-RAC)</u></strong></h5>\n    <ion-grid style=\"margin-left: 5px;\"><ion-row class=\"cell-class\">\n      <h6 style=\"margin-left: 10px;\">The MT-RAC form is an assessment of the 5-M Risk Factors and identified high risk factors are to be mitigated. All SAF Drivers are to fill up the MT-RAC form, and completed forms are to be kept by the MT Node for 3 working days or in the event of an accident, until the investigation is completed. A MT-RAC form is to be completed for every transport detail, or when there is a change in the conditions or nature of detail. For exercises/training, a MT-RAC is prepared at the start of each exercise, and updated  if there is a change in conditions.</h6>\n    </ion-row></ion-grid></div>\n\n  <form class=\"form\" [formGroup]=\"mtracForm\" (submit)=\"addmtrac(mtracForm.value)\">\n  <ion-card><ion-card-content>\n    <ion-item lines=\"none\">\n      <ion-label  position=\"floating\">driving area</ion-label>\n      <ion-select [ngStyle]=\"{'color': 'black'}\" formControlName=\"incamp\" interface=\"popover\">\n        <ion-select-option [ngStyle]=\"{'color': 'black'}\" text-wrap value=true>In Camp</ion-select-option>\n        <ion-select-option [ngStyle]=\"{'color': 'black'}\" text-wrap value=false *ngIf=\"gettime()\">Out of Camp</ion-select-option>\n      </ion-select>\n    </ion-item>\n\n    <ion-item>\n      <ion-label  position=\"floating\" >From</ion-label>\n      <ion-input [ngStyle]=\"{'color': 'black'}\" type=\"text\" onkeyup=\"this.value = this.value.toUpperCase()\" formControlName=\"startLocation\" placeholder=\"Start Location\"></ion-input>\n    </ion-item>\n    <ion-item>\n      <ion-label  position=\"floating\">To</ion-label>\n      <ion-input [ngStyle]=\"{'color': 'black'}\" type=\"text\" onkeyup=\"this.value = this.value.toUpperCase()\" formControlName=\"endLocation\" placeholder=\"End Location\"></ion-input>\n    </ion-item>\n\n    <ion-item>\n      <ion-col><ion-item>\n        <ion-label  position=\"floating\" >Vehicle Number</ion-label>\n        <ion-input [ngStyle]=\"{'color': 'black'}\" onkeyup=\"this.value = this.value.toUpperCase()\" formControlName=\"vehicleNumber\" placeholder=\"XXXXMID\"></ion-input>\n      </ion-item>\n      <div class=\"validation-errors\">\n        <ng-container *ngFor=\"let validation of validationMessages.vehicleNumber\">\n          <div class=\"error-message\" *ngIf=\"mtracForm.get('vehicleNumber').hasError(validation.type) && (mtracForm.get('vehicleNumber').dirty || mtracForm.get('vehicleNumber').touched)\">\n            {{ validation.message }}\n          </div>\n        </ng-container>\n      </div>\n      </ion-col></ion-item>\n    <ion-item>\n      <ion-label position=\"floating\">Vehicle Commander</ion-label>\n      <ion-select formControlName=\"commander\" interface=\"popover\">\n        <ion-select-option *ngFor=\"let c of database.current.all_commanders_of_driver\" value={{c.email}}>{{c.name}}\n        </ion-select-option>\n      </ion-select>\n    </ion-item>\n  </ion-card-content></ion-card>\n\n  <ion-card>\n    <ion-card-title text-center>MAN FACTORS</ion-card-title>\n    <ion-card-content>\n\n      <ion-col><ion-item>\n        <ion-label ><strong>Driving Experience</strong></ion-label>\n        <ion-select [ngStyle]=\"{'color': 'black'}\"  formControlName=\"licenseType\" interface=\"popover\" text-left>\n          <ion-select-option text-wrap value=\"L\">CAT A, B</ion-select-option>\n          <ion-select-option text-wrap value=\"M\">CAT C</ion-select-option>\n          <ion-select-option text-wrap value=\"H\">CAT D</ion-select-option>\n          <ion-select-option text-wrap value=\"N\">Have never been trained and familiarized in the vehicle that you will be driving</ion-select-option>\n        </ion-select></ion-item>\n        <div class=\"validation-errors\">\n          <ng-container *ngFor=\"let validation of validationMessages.licenseType\">\n            <div class=\"error-message\"\n                 *ngIf=\"mtracForm.get('licenseType').hasError(validation.type) && (mtracForm.get('licenseType').dirty || mtracForm.get('licenseType').touched)\">\n              {{ validation.message }}\n            </div>\n          </ng-container>\n        </div>\n      </ion-col>\n      <ion-col><ion-item>\n        <ion-label ><strong>Vehicle Type</strong></ion-label>\n        <ion-select [ngStyle]=\"{'color': 'black'}\"  formControlName=\"vehicleType2\" interface=\"popover\" text-wrap>\n          <ion-select-option text-wrap value=\"L\">Same as last detail / Different (GP Car/Pickup)</ion-select-option>\n          <ion-select-option text-wrap value=\"M\">Different (MUV/OUV/JEEP)</ion-select-option>\n          <ion-select-option text-wrap value=\"H\">Different (Coach/3Ton/5Ton/7Ton)</ion-select-option>\n        </ion-select>\n      </ion-item>\n        <div class=\"validation-errors\">\n          <ng-container *ngFor=\"let validation of validationMessages.vehicleType\">\n            <div class=\"error-message\"\n                 *ngIf=\"mtracForm.get('vehicleType').hasError(validation.type) && (mtracForm.get('vehicleType').dirty || mtracForm.get('vehicleType').touched)\">\n              {{ validation.message }}\n            </div>\n          </ng-container>\n        </div>\n      </ion-col>\n      <ion-col><ion-item>\n        <ion-label ><strong>Fatigue/Length of Rest</strong></ion-label>\n        <ion-select [ngStyle]=\"{'color': 'black'}\" formControlName=\"rest\" interface=\"popover\" text-wrap>\n          <ion-select-option text-wrap value=\"L\">More than 6 hours</ion-select-option>\n          <ion-select-option text-wrap value=\"M\">Less than 6 hours (Home/Camp)</ion-select-option>\n          <ion-select-option text-wrap value=\"H\">Less than 6 hours (Field)</ion-select-option>\n        </ion-select></ion-item>\n        <div class=\"validation-errors\">\n          <ng-container *ngFor=\"let validation of validationMessages.rest\">\n            <div class=\"error-message\"\n                 *ngIf=\"mtracForm.get('rest').hasError(validation.type) && (mtracForm.get('rest').dirty || mtracForm.get('rest').touched)\">\n              {{ validation.message }}\n            </div>\n          </ng-container>\n        </div>\n      </ion-col>\n      <ion-col><ion-item>\n        <ion-label ><strong>My Health</strong></ion-label>\n        <ion-select [ngStyle]=\"{'color': 'black'}\" formControlName=\"health\" interface=\"popover\" text-wrap>\n          <ion-select-option text-wrap value=\"L\">Good</ion-select-option>\n          <ion-select-option text-wrap value=\"M\">Fair (Just recovered from illness < 1 day)</ion-select-option>\n          <ion-select-option text-wrap value=\"N\">Poor (Still ill or Attend C) / Still under medication that causes drowsiness</ion-select-option>\n        </ion-select></ion-item>\n        <div class=\"validation-errors\">\n          <ng-container *ngFor=\"let validation of validationMessages.health\">\n            <div class=\"error-message\"\n                 *ngIf=\"mtracForm.get('health').hasError(validation.type) && (mtracForm.get('health').dirty || mtracForm.get('health').touched)\">\n              {{ validation.message }}\n            </div>\n          </ng-container>\n        </div>\n      </ion-col>\n    </ion-card-content></ion-card>\n\n  <ion-card>\n    <ion-card-title text-center>MEDIUM FACTORS</ion-card-title>\n    <ion-card-content>\n      <ion-col><ion-item>\n        <ion-label ><strong>Weather</strong></ion-label>\n        <ion-select [ngStyle]=\"{'color': 'black'}\" formControlName=\"weather\" interface=\"popover\" text-wrap>\n          <ion-select-option text-wrap value=\"L\">Dry</ion-select-option>\n          <ion-select-option text-wrap value=\"M\">Wet</ion-select-option>\n          <ion-select-option text-wrap value=\"H\">Heavy showers</ion-select-option>\n        </ion-select></ion-item>\n        <div class=\"validation-errors\">\n          <ng-container *ngFor=\"let validation of validationMessages.weather\">\n            <div class=\"error-message\"\n                 *ngIf=\"mtracForm.get('weather').hasError(validation.type) && (mtracForm.get('weather').dirty || mtracForm.get('weather').touched)\">\n              {{ validation.message }}\n            </div>\n          </ng-container>\n        </div>\n      </ion-col>\n      <ion-col><ion-item>\n        <ion-label ><strong>Route Familiarity</strong></ion-label>\n        <ion-select [ngStyle]=\"{'color': 'black'}\" formControlName=\"route\" interface=\"popover\" text-wrap>\n          <ion-select-option text-wrap value=\"L\">Familiar</ion-select-option>\n          <ion-select-option text-wrap value=\"H\">Not Familiar</ion-select-option>\n        </ion-select></ion-item>\n        <div class=\"validation-errors\">\n          <ng-container *ngFor=\"let validation of validationMessages.route\">\n            <div class=\"error-message\"\n                 *ngIf=\"mtracForm.get('route').hasError(validation.type) && (mtracForm.get('route').dirty || mtracForm.get('route').touched)\">\n              {{ validation.message }}\n            </div>\n          </ng-container>\n        </div>\n      </ion-col>\n    </ion-card-content></ion-card>\n\n  <ion-card>\n    <ion-card-title text-center>MISSION FACTORS</ion-card-title>\n    <ion-card-content>\n      <ion-col><ion-item>\n        <ion-label ><strong>Detail Type</strong></ion-label>\n        <ion-select [ngStyle]=\"{'color': 'black'}\" formControlName=\"detailType\" interface=\"popover\" text-wrap>\n          <ion-select-option text-wrap value=\"L\">Admin</ion-select-option>\n          <ion-select-option text-wrap value=\"M\">Training/Special mission oriented towing vehicle/gun</ion-select-option>\n          <ion-select-option text-wrap value=\"H\">Occasional towing trailer/vehicle/gun</ion-select-option>\n        </ion-select></ion-item>\n        <div class=\"validation-errors\">\n          <ng-container *ngFor=\"let validation of validationMessages.detailType\">\n            <div class=\"error-message\"\n                 *ngIf=\"mtracForm.get('detailType').hasError(validation.type) && (mtracForm.get('detailType').dirty || mtracForm.get('detailType').touched)\">\n              {{ validation.message }}\n            </div>\n          </ng-container>\n        </div>\n      </ion-col>\n    </ion-card-content></ion-card>\n\n  <ion-card>\n    <ion-card-title text-center>MANAGEMENT FACTORS</ion-card-title>\n    <ion-card-content>\n      <ion-col><ion-item>\n        <ion-label ><strong>Without Vehicle Commander</strong></ion-label>\n        <ion-select [ngStyle]=\"{'color': 'black'}\" formControlName=\"vc\" interface=\"popover\" text-wrap>\n          <ion-select-option text-wrap value=\"L\">CAT A, B</ion-select-option>\n          <ion-select-option text-wrap value=\"M\">CAT C</ion-select-option>\n          <ion-select-option text-wrap value=\"N\">CAT D</ion-select-option>\n        </ion-select></ion-item>\n        <div class=\"validation-errors\">\n          <ng-container *ngFor=\"let validation of validationMessages.vc\">\n            <div class=\"error-message\"\n                 *ngIf=\"mtracForm.get('vc').hasError(validation.type) && (mtracForm.get('vc').dirty || mtracForm.get('vc').touched)\">\n              {{ validation.message }}\n            </div>\n          </ng-container>\n        </div>\n      </ion-col>\n    </ion-card-content></ion-card>\n\n  <ion-card>\n    <ion-card-title text-center>MACHINE FACTORS</ion-card-title>\n    <ion-card-content>\n      <ion-col><ion-item>\n        <ion-label ><strong>Vehicle Serviceability</strong></ion-label>\n        <ion-select [ngStyle]=\"{'color': 'black'}\" formControlName=\"vehicleServiceability\" interface=\"popover\" text-wrap>\n          <ion-select-option text-wrap value=\"L\">No fault</ion-select-option>\n          <ion-select-option text-wrap value=\"H\">Minor fault</ion-select-option>\n          <ion-select-option text-wrap value=\"N\">Major fault</ion-select-option>\n        </ion-select></ion-item>\n        <div class=\"validation-errors\">\n          <ng-container *ngFor=\"let validation of validationMessages.vehicleServiceability\">\n            <div class=\"error-message\"\n                 *ngIf=\"mtracForm.get('vehicleServiceability').hasError(validation.type) && (mtracForm.get('vehicleServiceability').dirty || mtracForm.get('vehicleServiceability').touched)\">\n              {{ validation.message }}\n            </div>\n          </ng-container>\n        </div>\n      </ion-col>\n    </ion-card-content></ion-card>\n\n    <ion-card>\n      <ion-card-title text-center>OVERALL RISK LEVEL</ion-card-title>\n      <ion-card-content>\n        <ion-item *ngIf=\"!getoverallrisk()\" color=\"danger\" text-center>\n          <ion-label >\n            NO MOVE\n          </ion-label>\n        </ion-item>\n        <ion-item *ngIf=\"getoverallrisk()=='HIGH'\" color=\"danger\" text-center>\n          <ion-label >\n            {{getoverallrisk()}}\n          </ion-label>\n        </ion-item>\n        <ion-item *ngIf=\"getoverallrisk()=='MEDIUM'\" color=\"warning\" text-center>\n          <ion-label >\n            {{getoverallrisk()}}\n          </ion-label>\n        </ion-item>\n        <ion-item  *ngIf=\"getoverallrisk()=='LOW'\" color=\"success\" text-center>\n          <ion-label>\n            {{getoverallrisk()}}\n          </ion-label>\n        </ion-item>\n      </ion-card-content>\n    </ion-card>\n\n    <div>\n      <h6 style=\"text-align:center;\"><strong>SAF DRIVERS<sup>1</sup> AND VEHICLE COMMANDERS ARE RESPONSIBLE FOR THE TROOPS AND CARGO TRANSPORTED. THEY ARE TO PERFORM THE FOLLOWING ACTIONS AND BRIEFING. (PLEASE TICK ACCORDINGLY ON THE CHECKLIST)</strong></h6>\n    </div>\n\n    <ion-item lines=\"none\" no-padding style=\"ion-item-background: white\">\n      <ion-grid style=\"margin-left: 5px;\">\n        <ion-row class=\"cell-class\">\n          <ion-col size=\"8\">\n            <div>\n              <h6 style=\"text-align:left\"><strong>Description</strong></h6>\n            </div>\n          </ion-col>\n          <ion-col class=\"cell-class\" style=\"margin-left : -1px; text-align:center;\">\n            <div>\n              <h6 style=\"text-align:center\"><strong>Driver</strong></h6>\n            </div>\n          </ion-col>\n          <ion-col>\n            <div>\n              <h6 style=\"text-align:center\"><strong>Veh Com</strong></h6>\n            </div>\n          </ion-col>\n        </ion-row>\n        <ion-row class=\"cell-class\">\n          <ion-col size=\"8\">\n            <div>\n              <h6 style=\"text-align:left\">Ensure that the driver is licensed to operate the vehicle</h6>\n            </div>\n          </ion-col>\n          <ion-col class=\"invalid-class\" style=\"margin-left : -1px;\">\n            <div class=\"invalid-div\">\n              <h5 style=\"text-align:center\"><strong>-</strong></h5>\n            </div>\n          </ion-col>\n          <ion-col align-items-center>\n            <div class=\"checkbox-div\" align=\"center\">\n              <ion-checkbox formControlName=\"cmdlicense\" name=\"cmdlicense\"></ion-checkbox>\n            </div>\n          </ion-col>\n        </ion-row>\n        <ion-row class=\"cell-class\">\n          <ion-col size=\"8\">\n            <div>\n              <h6 style=\"text-align:left\">Ensure that driver does not exceed the vehicle or road speed limit</h6>\n            </div>\n          </ion-col>\n          <ion-col class=\"invalid-class\" style=\"margin-left : -1px;\">\n            <div class=\"invalid-div\">\n              <h5 style=\"text-align:center\"><strong>-</strong></h5>\n            </div>\n          </ion-col>\n          <ion-col align-items-center>\n            <div class=\"checkbox-div\" align=\"center\">\n              <ion-checkbox formControlName=\"cmdspeedlimit\" name=\"cmdspeedlimit\" ></ion-checkbox>\n            </div>\n          </ion-col>\n        </ion-row>\n        <ion-row class=\"cell-class\">\n          <ion-col size=\"8\">\n            <div>\n              <h6 style=\"text-align:left\">Warn the driver of any obstacles, hazards or dangers</h6>\n            </div>\n          </ion-col>\n          <ion-col class=\"invalid-class\" style=\"margin-left : -1px;\">\n            <div class=\"invalid-div\">\n              <h5 style=\"text-align:center\"><strong>-</strong></h5>\n            </div>\n          </ion-col>\n          <ion-col align-items-center>\n            <div class=\"checkbox-div\" align=\"center\">\n              <ion-checkbox formControlName=\"cmddanger\" name=\"cmddanger\" style=\"background: transparent;\">></ion-checkbox>\n            </div>\n          </ion-col>\n        </ion-row>\n        <ion-row class=\"cell-class\">\n          <ion-col size=\"8\">\n            <div>\n              <h6 style=\"text-align:left\">Warn the driver during reversing or movement towards congested or narrow spaces</h6>\n            </div>\n          </ion-col>\n          <ion-col class=\"invalid-class\" style=\"margin-left : -1px;\">\n            <div class=\"invalid-div\">\n              <h5 style=\"text-align:center\"><strong>-</strong></h5>\n            </div>\n          </ion-col>\n          <ion-col align-items-center>\n            <div class=\"checkbox-div\" align=\"center\">\n              <ion-checkbox formControlName=\"cmdreverse\" name=\"cmdreverse\"></ion-checkbox>\n            </div>\n          </ion-col>\n        </ion-row>\n        <ion-row class=\"cell-class\">\n          <ion-col size=\"8\">\n            <div>\n              <h6 style=\"text-align:left\">Brief and ensure troops secure their seat belts before movement of vehicle</h6>\n            </div>\n          </ion-col>\n          <ion-col class=\"cell-class\" style=\"margin-left : -1px;\">\n            <div class=\"checkbox-div\" align=\"center\">\n              <ion-checkbox formControlName=\"seatbeltdriver\" name=\"seatbeltdriver\"></ion-checkbox>\n            </div>\n          </ion-col>\n          <ion-col align-items-center>\n            <div class=\"checkbox-div\" align=\"center\">\n              <ion-checkbox formControlName=\"seatbeltcommander\" name=\"seatbeltcommander\"></ion-checkbox>\n            </div>\n          </ion-col>\n        </ion-row>\n        <ion-row class=\"cell-class\">\n          <ion-col size=\"8\">\n            <div>\n              <h6 style=\"text-align:left\">Check and ensure seating or loading capacity of the vehicle is not exceeded</h6>\n            </div>\n          </ion-col>\n          <ion-col class=\"cell-class\" style=\"margin-left : -1px;\">\n            <div class=\"checkbox-div\" align=\"center\">\n              <ion-checkbox formControlName=\"seatingdriver\" name=\"seatingdriver\"></ion-checkbox>\n            </div>\n          </ion-col>\n          <ion-col align-items-center>\n            <div class=\"checkbox-div\" align=\"center\">\n              <ion-checkbox formControlName=\"seatingcommander\" name=\"seatingcommander\"></ion-checkbox>\n            </div>\n          </ion-col>\n        </ion-row>\n        <ion-row class=\"cell-class\">\n          <ion-col size=\"8\">\n            <div>\n              <h6 style=\"text-align:left\">Check and ensure safety straps in place and tailboard of vehicle is closed</h6>\n            </div>\n          </ion-col>\n          <ion-col class=\"cell-class\" style=\"margin-left : -1px;\">\n            <div class=\"checkbox-div\" align=\"center\">\n              <ion-checkbox formControlName=\"safetystrapdriver\" name=\"safetystrapdriver\"></ion-checkbox>\n            </div>\n          </ion-col>\n          <ion-col align-items-center>\n            <div class=\"checkbox-div\" align=\"center\">\n              <ion-checkbox formControlName=\"safetystrapcommander\" name=\"safetystrapcommander\"></ion-checkbox>\n            </div>\n          </ion-col>\n        </ion-row>\n        <ion-row class=\"cell-class\">\n          <ion-col size=\"8\">\n            <div>\n              <h6 style=\"text-align:left\">Brief troops on no smoking/sleeping on the vehicle before movement of vehicle</h6>\n            </div>\n          </ion-col>\n          <ion-col class=\"cell-class\" style=\"margin-left : -1px;\">\n            <div class=\"checkbox-div\" align=\"center\">\n              <ion-checkbox formControlName=\"smokingdriver\" name=\"smokingdriver\"></ion-checkbox>\n            </div>\n          </ion-col>\n          <ion-col align-items-center>\n            <div class=\"checkbox-div\" align=\"center\">\n              <ion-checkbox formControlName=\"smokingcommander\" name=\"smokingcommander\"></ion-checkbox>\n            </div>\n          </ion-col>\n        </ion-row>\n        <ion-row class=\"cell-class\">\n          <ion-col size=\"8\">\n            <div>\n              <h6 style=\"text-align:left\">Secure load before movement</h6>\n            </div>\n          </ion-col>\n          <ion-col class=\"cell-class\" style=\"margin-left : -1px;\">\n            <div class=\"checkbox-div\" align=\"center\">\n              <ion-checkbox formControlName=\"loaddriver\" name=\"loaddriver\"></ion-checkbox>\n            </div>\n          </ion-col>\n          <ion-col align-items-center>\n            <div class=\"checkbox-div\" align=\"center\">\n              <ion-checkbox formControlName=\"loadcommander\" name=\"loadcommander\"></ion-checkbox>\n            </div>\n          </ion-col>\n        </ion-row>\n        <ion-row class=\"cell-class\">\n          <ion-col size=\"8\">\n            <div>\n              <h6 style=\"text-align:left\">Brief and ensure troops secure their seat belts before movement of vehicle</h6>\n            </div>\n          </ion-col>\n          <ion-col class=\"cell-class\" style=\"margin-left : -1px;\">\n            <div class=\"checkbox-div\" align=\"center\">\n              <ion-checkbox formControlName=\"seatbelttroopsdriver\" name=\"seatbelttroopsdriver\"></ion-checkbox>\n            </div>\n          </ion-col>\n          <ion-col align-items-center>\n            <div class=\"checkbox-div\" align=\"center\">\n              <ion-checkbox formControlName=\"seatbelttroopscommander\" name=\"seatbelttroopscommander\"></ion-checkbox>\n            </div>\n          </ion-col>\n        </ion-row>\n        <ion-row class=\"cell-class\">\n          <ion-col size=\"8\">\n            <div>\n              <h6 style=\"text-align:left\">If vehicle involved in an accident to contact parent unit, POLICE and SAF PROVOST UNIT to inform about accident</h6>\n            </div>\n          </ion-col>\n          <ion-col class=\"cell-class\" style=\"margin-left : -1px;\">\n            <div class=\"checkbox-div\" align=\"center\">\n              <ion-checkbox formControlName=\"accidentdriver\" name=\"accidentdriver\"></ion-checkbox>\n            </div>\n          </ion-col>\n          <ion-col align-items-center>\n            <div class=\"checkbox-div\" align=\"center\">\n              <ion-checkbox formControlName=\"accidentcommander\" name=\"accidentcommander\"></ion-checkbox>\n            </div>\n          </ion-col>\n        </ion-row>\n        <ion-row class=\"cell-class\">\n          <ion-col size=\"8\">\n            <div>\n              <h6 style=\"text-align:left\">Ensure that MT RAC form is completed and duly counter-signed</h6>\n            </div>\n          </ion-col>\n          <ion-col class=\"cell-class\" style=\"margin-left : -1px;\">\n            <div class=\"checkbox-div\" align=\"center\">\n              <ion-checkbox formControlName=\"mtraccompletedriver\" name=\"mtraccompletedriver\"></ion-checkbox>\n            </div>\n          </ion-col>\n          <ion-col align-items-center>\n            <div class=\"checkbox-div\" align=\"center\">\n              <ion-checkbox formControlName=\"mtraccompletecommander\" name=\"mtraccompletecommander\"></ion-checkbox>\n            </div>\n          </ion-col>\n        </ion-row>\n        <ion-row class=\"cell-class\">\n          <ion-col size=\"8\">\n            <div>\n              <h6 style=\"text-align:left\">Ensure that driver has completed the checks listed above</h6>\n            </div>\n          </ion-col>\n          <ion-col class=\"invalid-class\" style=\"margin-left : -1px;\">\n            <div class=\"invalid-div\">\n              <h5 style=\"text-align:center\"><strong>-</strong></h5>\n            </div>\n          </ion-col>\n          <ion-col align-items-center>\n            <div class=\"checkbox-div\" align=\"center\">\n              <ion-checkbox formControlName=\"cmdchecklistcomplete\" name=\"cmdchecklistcomplete\"></ion-checkbox>\n            </div>\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n    </ion-item>\n\n<!--\n\n    <div class=\"btn-wrapper\">\n      <div *ngIf = showSubmit()>\n        <ion-button class=\"submit-btn\" type=\"submit\" routerLink=\"/add-drive\" [disabled]=\"!mtracForm.valid\" style=\"padding-right:10px\">Submit\n        </ion-button>\n        <ion-button (click)='onCancel()'>Cancel</ion-button>\n      </div>\n      <div *ngIf = !showSubmit()>\n        <ion-button expand=\"block\" (click)='onCancel()'>OK</ion-button>\n      </div>\n    </div>\n\n-->\n\n    <ion-item>\n      <ion-label text-wrap>I acknowledge that I, {{this.database.current.user.name}}, have read through, understood, and checked through the MT Risk Assessment (MT-RAC) Checklist on {{getcdt()}}.</ion-label>\n      <ion-checkbox *ngIf=\"this.driver == this.database.current.user.email\" slot=\"start\" formControlName=\"drivermtrac\" name=\"drivermtrac\" style=\"background: transparent;\"></ion-checkbox>\n      <ion-checkbox *ngIf=\"this.commander == this.database.current.user.email\" slot=\"start\" formControlName=\"commandermtrac\" name=\"commandermtrac\" style=\"background: transparent;\"></ion-checkbox>\n    </ion-item>\n\n    <div class=\"btn-wrapper\">\n    <div *ngIf=\"mtracForm.get('drivermtrac').value && !mtracForm.get('commandermtrac').value && this.commander != this.database.current.user.email\">\n      <ion-button (click)='onCancel()'>Cancel</ion-button>\n      <ion-button *ngIf=\"!this.database.current.user.is_commander\" style=\"padding-right:10px\" class=\"submit-btn\" type=\"submit\" [disabled]=\"!mtracForm.valid || getoverallrisk()==false\" routerLink=\"/tabs/summary\">Submit</ion-button>\n      <ion-button *ngIf=\"this.database.current.user.is_commander\" style=\"padding-right:10px\" class=\"submit-btn\" type=\"submit\" [disabled]=\"!mtracForm.valid || getoverallrisk()==false\" routerLink=\"/tabs/commander\">Submit</ion-button>\n    </div>\n    <div *ngIf=\"this.commander == this.database.current.user.email\">\n      <ion-button (click)='onCancel()'>Cancel</ion-button>\n      <ion-button style=\"padding-right:10px\" [disabled]=\"!getcmdchecklistcomplete() || getoverallrisk()==false \" class=\"submit-btn\" type=\"submit\" (click)='onCancel()'>Acknowledge</ion-button>\n    </div>\n    <div *ngIf=\"getcmdchecklistcomplete() && this.commander != this.database.current.user.email\">\n      <ion-button (click)='onCancel()'>Cancel</ion-button>\n      <ion-button style=\"padding-right:10px\" routerLink=\"/add-drive\" class=\"submit-btn\" type=\"submit\">Continue</ion-button>\n    </div>\n    <div *ngIf=\"!mtracForm.get('drivermtrac').value\">\n      <ion-button (click)='onCancel()'>Cancel</ion-button>\n    </div>\n  </div>\n\n  </form>\n\n</ion-content>");

/***/ }),

/***/ "./src/app/mtrac/mtrac.module.ts":
/*!***************************************!*\
  !*** ./src/app/mtrac/mtrac.module.ts ***!
  \***************************************/
/*! exports provided: mtracPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mtracPageModule", function() { return mtracPageModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _mtrac_page__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./mtrac.page */ "./src/app/mtrac/mtrac.page.ts");







const routes = [
    {
        path: '',
        component: _mtrac_page__WEBPACK_IMPORTED_MODULE_6__["mtracPage"]
    }
];
let mtracPageModule = class mtracPageModule {
};
mtracPageModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        imports: [
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["IonicModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_4__["RouterModule"].forChild(routes)
        ],
        declarations: [_mtrac_page__WEBPACK_IMPORTED_MODULE_6__["mtracPage"]]
    })
], mtracPageModule);



/***/ }),

/***/ "./src/app/mtrac/mtrac.page.scss":
/*!***************************************!*\
  !*** ./src/app/mtrac/mtrac.page.scss ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("* {\n  --ion-text-color: black;\n}\n\nion-toolbar {\n  --background:#FFFF66;\n}\n\nion-content {\n  --ion-background-color:#FFFF66;\n  --color:black;\n  --ion-text-color: black;\n}\n\nion-card {\n  --background:#FFFF66;\n}\n\nion-item {\n  --background:#FFFF66;\n  height: auto;\n  min-height: auto;\n}\n\nion-grid {\n  --background:#FFFF66;\n}\n\nion-input {\n  text-transform: uppercase;\n  color: primary !important;\n}\n\nion-card-title {\n  --color:black;\n}\n\nion-select {\n  --placeholder-color:black;\n  --color:black;\n  --padding-start: 0px;\n  --inner-padding-end: 0px;\n  min-width: auto;\n  max-width: 70%;\n  height: auto;\n  min-height: auto;\n  max-height: 100%;\n}\n\nlabel {\n  color: black;\n}\n\n.btn-wrapper {\n  text-align: center;\n}\n\n.input[type=number] {\n  -moz-appearance: textfield;\n}\n\n.input[type=number]::-webkit-inner-spin-button {\n  display: none;\n}\n\n.toolbar-title {\n  text-overflow: inherit;\n  white-space: normal;\n  text-align: left;\n  font-size: 1.3em;\n}\n\n.cell-class {\n  border-color: black;\n  border-width: 0.01em;\n  border-style: solid;\n}\n\n.invalid-class {\n  border-color: black;\n  border-width: 0.01em;\n  border-style: solid;\n  background: #c9c966;\n}\n\n.row {\n  height: 100%;\n}\n\n.col {\n  height: 100%;\n  border: solid black;\n}\n\n.sc-ion-popover-md-h {\n  min-width: auto;\n  min-height: auto;\n  max-width: 100%;\n  height: 50%;\n}\n\n.popover-content.sc-ion-popover-md {\n  position: inherit;\n  min-width: auto;\n  max-width: 100%;\n  height: auto;\n  min-height: auto;\n  max-height: 100%;\n}\n\ndiv {\n  color: black;\n}\n\n.invalid-div {\n  color: black;\n  background-color: #c9c966;\n}\n\n.checkbox-div {\n  background-color: #FFFF66;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy95YXNoZGl4aXQvRG93bmxvYWRzL0VuZ2luZWVyc0xvZ2Jvb2syL3NyYy9hcHAvbXRyYWMvbXRyYWMucGFnZS5zY3NzIiwic3JjL2FwcC9tdHJhYy9tdHJhYy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFFSSx1QkFBQTtBQ0FKOztBREdBO0VBQ0ksb0JBQUE7QUNBSjs7QURHQTtFQUNFLDhCQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0FDQUY7O0FER0E7RUFDRSxvQkFBQTtBQ0FGOztBREdBO0VBQ0Usb0JBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7QUNBRjs7QURHQTtFQUNFLG9CQUFBO0FDQUY7O0FER0E7RUFDRSx5QkFBQTtFQUNBLHlCQUFBO0FDQUY7O0FER0E7RUFDRSxhQUFBO0FDQUY7O0FER0E7RUFDRSx5QkFBQTtFQUNBLGFBQUE7RUFDQSxvQkFBQTtFQUNBLHdCQUFBO0VBQ0EsZUFBQTtFQUNBLGNBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtBQ0FGOztBREdBO0VBQ0UsWUFBQTtBQ0FGOztBREdBO0VBQ0Usa0JBQUE7QUNBRjs7QURJQTtFQUVFLDBCQUFBO0FDRkY7O0FEQ0U7RUFBOEIsYUFBQTtBQ0VoQzs7QURFQTtFQUNHLHNCQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0FDQ0g7O0FERUE7RUFDRSxtQkFBQTtFQUNBLG9CQUFBO0VBQ0EsbUJBQUE7QUNDRjs7QURFQTtFQUNFLG1CQUFBO0VBQ0Esb0JBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFFRSxZQUFBO0FDQUY7O0FER0E7RUFDRSxZQUFBO0VBQ0EsbUJBQUE7QUNBRjs7QURHQTtFQUNJLGVBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxXQUFBO0FDQUo7O0FER0E7RUFDSSxpQkFBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7QUNBSjs7QURHQTtFQUNJLFlBQUE7QUNBSjs7QURHQTtFQUNJLFlBQUE7RUFDQSx5QkFBQTtBQ0FKOztBREdBO0VBQ0kseUJBQUE7QUNBSiIsImZpbGUiOiJzcmMvYXBwL210cmFjL210cmFjLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIioge1xuLy8gIG9wYWNpdHk6IDEgIWltcG9ydGFudDsgIC8vIGRpc2FibGVkIGl0ZW1zIHdpbGwgbm90IGJlIGdyZXkgb3V0LlxuICAgIC0taW9uLXRleHQtY29sb3I6IGJsYWNrO1xufVxuXG5pb24tdG9vbGJhcntcbiAgICAtLWJhY2tncm91bmQ6I0ZGRkY2Njtcbn1cblxuaW9uLWNvbnRlbnR7XG4gIC0taW9uLWJhY2tncm91bmQtY29sb3I6I0ZGRkY2NjtcbiAgLS1jb2xvcjpibGFjaztcbiAgLS1pb24tdGV4dC1jb2xvcjogYmxhY2s7XG59XG5cbmlvbi1jYXJke1xuICAtLWJhY2tncm91bmQ6I0ZGRkY2Njtcbn1cblxuaW9uLWl0ZW17XG4gIC0tYmFja2dyb3VuZDojRkZGRjY2O1xuICBoZWlnaHQ6IGF1dG87XG4gIG1pbi1oZWlnaHQ6IGF1dG87XG59XG5cbmlvbi1ncmlke1xuICAtLWJhY2tncm91bmQ6I0ZGRkY2Njtcbn1cblxuaW9uLWlucHV0e1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICBjb2xvcjogcHJpbWFyeSFpbXBvcnRhbnQ7XG59XG5cbmlvbi1jYXJkLXRpdGxle1xuICAtLWNvbG9yOmJsYWNrO1xufVxuXG5pb24tc2VsZWN0e1xuICAtLXBsYWNlaG9sZGVyLWNvbG9yOmJsYWNrO1xuICAtLWNvbG9yOmJsYWNrO1xuICAtLXBhZGRpbmctc3RhcnQ6IDBweDtcbiAgLS1pbm5lci1wYWRkaW5nLWVuZDogMHB4O1xuICBtaW4td2lkdGg6IGF1dG87XG4gIG1heC13aWR0aDogNzAlO1xuICBoZWlnaHQ6IGF1dG87XG4gIG1pbi1oZWlnaHQ6IGF1dG87XG4gIG1heC1oZWlnaHQ6IDEwMCU7XG59XG5cbmxhYmVse1xuICBjb2xvcjpibGFjaztcbn1cblxuLmJ0bi13cmFwcGVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4vLyBkbyBub3Qgc2hvdyBzcGlubmVyIGZvciBudW1iZXIgaW5wdXRzXG4uaW5wdXRbdHlwZT1udW1iZXJdIHsgIFxuICAmOjotd2Via2l0LWlubmVyLXNwaW4tYnV0dG9ueyBkaXNwbGF5OiBub25lOyB9XG4gIC1tb3otYXBwZWFyYW5jZTp0ZXh0ZmllbGQ7XG59XG5cbi50b29sYmFyLXRpdGxlIHtcbiAgIHRleHQtb3ZlcmZsb3c6IGluaGVyaXQ7XG4gICB3aGl0ZS1zcGFjZTogbm9ybWFsO1xuICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgIGZvbnQtc2l6ZToxLjNlbTtcbn1cblxuLmNlbGwtY2xhc3Mge1xuICBib3JkZXItY29sb3I6IGJsYWNrO1xuICBib3JkZXItd2lkdGg6IC4wMWVtO1xuICBib3JkZXItc3R5bGU6c29saWQ7XG59XG5cbi5pbnZhbGlkLWNsYXNzIHtcbiAgYm9yZGVyLWNvbG9yOiBibGFjaztcbiAgYm9yZGVyLXdpZHRoOiAuMDFlbTtcbiAgYm9yZGVyLXN0eWxlOnNvbGlkO1xuICBiYWNrZ3JvdW5kOiNjOWM5NjY7XG59XG5cbi5yb3cge1xuICAvLyBGb3JjZSBncmlkIHRvIGZpbGwgaGVpZ2h0IG9mIGNvbnRlbnQgYXMgdGhpcyBpcyBub3Qgc2V0IGJ5IGRlZmF1bHRcbiAgaGVpZ2h0OiAxMDAlO1xufVxuXG4uY29se1xuICBoZWlnaHQ6IDEwMCU7XG4gIGJvcmRlcjogc29saWQgYmxhY2s7XG59XG5cbi5zYy1pb24tcG9wb3Zlci1tZC1oIHtcbiAgICBtaW4td2lkdGg6IGF1dG87XG4gICAgbWluLWhlaWdodDogYXV0bztcbiAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiA1MCU7XG59XG5cbi5wb3BvdmVyLWNvbnRlbnQuc2MtaW9uLXBvcG92ZXItbWQge1xuICAgIHBvc2l0aW9uOiBpbmhlcml0O1xuICAgIG1pbi13aWR0aDogYXV0bztcbiAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiBhdXRvO1xuICAgIG1pbi1oZWlnaHQ6IGF1dG87XG4gICAgbWF4LWhlaWdodDogMTAwJTtcbn1cblxuZGl2e1xuICAgIGNvbG9yOiBibGFjaztcbn1cblxuLmludmFsaWQtZGl2e1xuICAgIGNvbG9yOiBibGFjaztcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYzljOTY2O1xufVxuXG4uY2hlY2tib3gtZGl2e1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNGRkZGNjY7XG59IiwiKiB7XG4gIC0taW9uLXRleHQtY29sb3I6IGJsYWNrO1xufVxuXG5pb24tdG9vbGJhciB7XG4gIC0tYmFja2dyb3VuZDojRkZGRjY2O1xufVxuXG5pb24tY29udGVudCB7XG4gIC0taW9uLWJhY2tncm91bmQtY29sb3I6I0ZGRkY2NjtcbiAgLS1jb2xvcjpibGFjaztcbiAgLS1pb24tdGV4dC1jb2xvcjogYmxhY2s7XG59XG5cbmlvbi1jYXJkIHtcbiAgLS1iYWNrZ3JvdW5kOiNGRkZGNjY7XG59XG5cbmlvbi1pdGVtIHtcbiAgLS1iYWNrZ3JvdW5kOiNGRkZGNjY7XG4gIGhlaWdodDogYXV0bztcbiAgbWluLWhlaWdodDogYXV0bztcbn1cblxuaW9uLWdyaWQge1xuICAtLWJhY2tncm91bmQ6I0ZGRkY2Njtcbn1cblxuaW9uLWlucHV0IHtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgY29sb3I6IHByaW1hcnkgIWltcG9ydGFudDtcbn1cblxuaW9uLWNhcmQtdGl0bGUge1xuICAtLWNvbG9yOmJsYWNrO1xufVxuXG5pb24tc2VsZWN0IHtcbiAgLS1wbGFjZWhvbGRlci1jb2xvcjpibGFjaztcbiAgLS1jb2xvcjpibGFjaztcbiAgLS1wYWRkaW5nLXN0YXJ0OiAwcHg7XG4gIC0taW5uZXItcGFkZGluZy1lbmQ6IDBweDtcbiAgbWluLXdpZHRoOiBhdXRvO1xuICBtYXgtd2lkdGg6IDcwJTtcbiAgaGVpZ2h0OiBhdXRvO1xuICBtaW4taGVpZ2h0OiBhdXRvO1xuICBtYXgtaGVpZ2h0OiAxMDAlO1xufVxuXG5sYWJlbCB7XG4gIGNvbG9yOiBibGFjaztcbn1cblxuLmJ0bi13cmFwcGVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4uaW5wdXRbdHlwZT1udW1iZXJdIHtcbiAgLW1vei1hcHBlYXJhbmNlOiB0ZXh0ZmllbGQ7XG59XG4uaW5wdXRbdHlwZT1udW1iZXJdOjotd2Via2l0LWlubmVyLXNwaW4tYnV0dG9uIHtcbiAgZGlzcGxheTogbm9uZTtcbn1cblxuLnRvb2xiYXItdGl0bGUge1xuICB0ZXh0LW92ZXJmbG93OiBpbmhlcml0O1xuICB3aGl0ZS1zcGFjZTogbm9ybWFsO1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICBmb250LXNpemU6IDEuM2VtO1xufVxuXG4uY2VsbC1jbGFzcyB7XG4gIGJvcmRlci1jb2xvcjogYmxhY2s7XG4gIGJvcmRlci13aWR0aDogMC4wMWVtO1xuICBib3JkZXItc3R5bGU6IHNvbGlkO1xufVxuXG4uaW52YWxpZC1jbGFzcyB7XG4gIGJvcmRlci1jb2xvcjogYmxhY2s7XG4gIGJvcmRlci13aWR0aDogMC4wMWVtO1xuICBib3JkZXItc3R5bGU6IHNvbGlkO1xuICBiYWNrZ3JvdW5kOiAjYzljOTY2O1xufVxuXG4ucm93IHtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuXG4uY29sIHtcbiAgaGVpZ2h0OiAxMDAlO1xuICBib3JkZXI6IHNvbGlkIGJsYWNrO1xufVxuXG4uc2MtaW9uLXBvcG92ZXItbWQtaCB7XG4gIG1pbi13aWR0aDogYXV0bztcbiAgbWluLWhlaWdodDogYXV0bztcbiAgbWF4LXdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDUwJTtcbn1cblxuLnBvcG92ZXItY29udGVudC5zYy1pb24tcG9wb3Zlci1tZCB7XG4gIHBvc2l0aW9uOiBpbmhlcml0O1xuICBtaW4td2lkdGg6IGF1dG87XG4gIG1heC13aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiBhdXRvO1xuICBtaW4taGVpZ2h0OiBhdXRvO1xuICBtYXgtaGVpZ2h0OiAxMDAlO1xufVxuXG5kaXYge1xuICBjb2xvcjogYmxhY2s7XG59XG5cbi5pbnZhbGlkLWRpdiB7XG4gIGNvbG9yOiBibGFjaztcbiAgYmFja2dyb3VuZC1jb2xvcjogI2M5Yzk2Njtcbn1cblxuLmNoZWNrYm94LWRpdiB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNGRkZGNjY7XG59Il19 */");

/***/ }),

/***/ "./src/app/mtrac/mtrac.page.ts":
/*!*************************************!*\
  !*** ./src/app/mtrac/mtrac.page.ts ***!
  \*************************************/
/*! exports provided: mtracPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mtracPage", function() { return mtracPage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _services_database_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/database.service */ "./src/app/services/database.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");







let mtracPage = class mtracPage {
    constructor(navCtrl, formBuilder, toastController, database, route) {
        this.navCtrl = navCtrl;
        this.formBuilder = formBuilder;
        this.toastController = toastController;
        this.database = database;
        this.route = route;
        this.errorMessage = '';
        this.successMessage = '';
        this.today = new Date().toISOString();
        this.checkboxstatus = false;
        this.driver = "";
        this.commander = "";
        this.validationMessages = {
            vehicleNumber: [
                { type: 'required', message: 'Vehicle Number is required.' },
                { type: 'minlength', message: 'Vehicle number must be at least 5 characters long.' }
            ],
            licenseType: [
                { type: 'required', message: 'choose license type' },
            ],
            rest: [
                { type: 'required', message: 'choose rest' },
            ],
            health: [
                { type: 'required', message: 'choose health' },
            ],
            weather: [
                { type: 'required', message: 'choose weather' },
            ],
            route: [
                { type: 'required', message: 'choose route' },
            ],
            detailType: [
                { type: 'required', message: 'choose detail type' },
            ],
            vehicleServiceability: [
                { type: 'required', message: 'choose vehicle serviceability' },
            ],
            startLocation: [
                { type: 'required', message: 'enter start location' },
            ],
            endLocation: [
                { type: 'required', message: 'enter end location' },
            ],
            incamp: [
                { type: 'required', message: 'select drive area' },
            ],
        };
    }
    ngOnInit() {
        this.mtracForm = this.formBuilder.group({
            vehicleNumber: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].minLength(5), _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required])),
            licenseType: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required])),
            vehicleType2: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required])),
            rest: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required])),
            health: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required])),
            weather: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required])),
            route: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required])),
            detailType: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required])),
            vc: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"](''),
            vehicleServiceability: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required])),
            incamp: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required])),
            startLocation: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required])),
            endLocation: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required])),
            commander: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required])),
            cmdlicense: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]({ value: false, disabled: true }),
            cmdspeedlimit: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]({ value: false, disabled: true }),
            cmddanger: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]({ value: false, disabled: true }),
            cmdreverse: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]({ value: false, disabled: true }),
            seatbeltcommander: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]({ value: false, disabled: true }),
            seatingcommander: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]({ value: false, disabled: true }),
            safetystrapcommander: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]({ value: false, disabled: true }),
            smokingcommander: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]({ value: false, disabled: true }),
            loadcommander: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]({ value: false, disabled: true }),
            seatbelttroopscommander: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]({ value: false, disabled: true }),
            accidentcommander: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]({ value: false, disabled: true }),
            mtraccompletecommander: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]({ value: false, disabled: true }),
            cmdchecklistcomplete: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]({ value: false, disabled: true }),
            commandermtrac: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]({ value: false, disabled: true }),
            seatbeltdriver: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"](false, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].requiredTrue])),
            seatingdriver: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"](false, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].requiredTrue])),
            safetystrapdriver: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"](false),
            smokingdriver: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"](false, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].requiredTrue])),
            loaddriver: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"](false, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].requiredTrue])),
            seatbelttroopsdriver: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"](false, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].requiredTrue])),
            accidentdriver: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"](false, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].requiredTrue])),
            mtraccompletedriver: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"](false, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].requiredTrue])),
            drivermtrac: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"](false, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].requiredTrue])),
        });
        this.mtrac = this.database.current.mtrac_to_edit;
        if (this.mtrac != null) {
            if (this.database.current.user.email == this.mtrac.commander && this.mtrac.status === 'pending') {
                this.commander = this.mtrac.commander;
                this.setmtracDetails();
                this.mtracForm.disable();
                this.mtracForm.get('cmdlicense').enable();
                this.mtracForm.get('cmdspeedlimit').enable();
                this.mtracForm.get('cmddanger').enable();
                this.mtracForm.get('cmdreverse').enable();
                this.mtracForm.get('seatbeltcommander').enable();
                this.mtracForm.get('seatingcommander').enable();
                this.mtracForm.get('safetystrapcommander').enable();
                this.mtracForm.get('smokingcommander').enable();
                this.mtracForm.get('loadcommander').enable();
                this.mtracForm.get('seatbelttroopscommander').enable();
                this.mtracForm.get('accidentcommander').enable();
                this.mtracForm.get('mtraccompletecommander').enable();
                this.mtracForm.get('cmdchecklistcomplete').enable();
                this.mtracForm.get('commandermtrac').enable();
            }
            else if (this.database.current.user.email == this.mtrac.driver && this.mtrac.status === 'verified') {
                this.driver = this.mtrac.driver;
                this.setmtracDetails();
                this.mtracForm.disable();
            }
            else if (this.database.current.user.email == this.mtrac.driver && this.mtrac.status === 'pending') {
                this.driver = this.mtrac.driver;
                this.setmtracDetails();
                this.mtracForm.disable();
            }
        }
        else {
            this.driver = this.database.current.user.email;
        }
    }
    setmtracDetails() {
        // Stage-1 details
        // populate values of start mtrac fields
        this.mtracForm.get('commander').setValue(this.mtrac.commander);
        this.mtracForm.get('vehicleNumber').setValue(this.mtrac.vehicleNumber.toUpperCase());
        this.mtracForm.get('vehicleType2').setValue(this.mtrac.vehicleType2);
        this.mtracForm.get('licenseType').setValue(this.mtrac.licenseType);
        this.mtracForm.get('incamp').setValue(this.mtrac.incamp);
        this.mtracForm.get('rest').setValue(this.mtrac.rest);
        this.mtracForm.get('health').setValue(this.mtrac.health);
        this.mtracForm.get('weather').setValue(this.mtrac.weather);
        this.mtracForm.get('route').setValue(this.mtrac.route);
        this.mtracForm.get('detailType').setValue(this.mtrac.detailType);
        this.mtracForm.get('vc').setValue(this.mtrac.vc);
        this.mtracForm.get('vehicleServiceability').setValue(this.mtrac.vehicleServiceability);
        this.mtracForm.get('startLocation').setValue(this.mtrac.startLocation);
        this.mtracForm.get('endLocation').setValue(this.mtrac.endLocation);
        this.mtracForm.get('cmdlicense').setValue(this.mtrac.cmdlicense);
        this.mtracForm.get('cmdspeedlimit').setValue(this.mtrac.cmdspeedlimit);
        this.mtracForm.get('cmddanger').setValue(this.mtrac.cmddanger);
        this.mtracForm.get('cmdreverse').setValue(this.mtrac.cmdreverse);
        this.mtracForm.get('seatbeltcommander').setValue(this.mtrac.seatbeltcommander);
        this.mtracForm.get('seatingcommander').setValue(this.mtrac.seatingcommander);
        this.mtracForm.get('safetystrapcommander').setValue(this.mtrac.safetystrapcommander);
        this.mtracForm.get('smokingcommander').setValue(this.mtrac.smokingcommander);
        this.mtracForm.get('loadcommander').setValue(this.mtrac.loadcommander);
        this.mtracForm.get('seatbelttroopscommander').setValue(this.mtrac.seatbelttroopscommander);
        this.mtracForm.get('accidentcommander').setValue(this.mtrac.accidentcommander);
        this.mtracForm.get('mtraccompletecommander').setValue(this.mtrac.mtraccompletecommander);
        this.mtracForm.get('cmdchecklistcomplete').setValue(this.mtrac.cmdchecklistcomplete);
        this.mtracForm.get('seatbeltdriver').setValue(this.mtrac.seatbeltdriver);
        this.mtracForm.get('seatingdriver').setValue(this.mtrac.seatingdriver);
        this.mtracForm.get('safetystrapdriver').setValue(this.mtrac.safetystrapdriver);
        this.mtracForm.get('smokingdriver').setValue(this.mtrac.smokingdriver);
        this.mtracForm.get('loaddriver').setValue(this.mtrac.loaddriver);
        this.mtracForm.get('seatbelttroopsdriver').setValue(this.mtrac.seatbelttroopsdriver);
        this.mtracForm.get('accidentdriver').setValue(this.mtrac.accidentdriver);
        this.mtracForm.get('mtraccompletedriver').setValue(this.mtrac.mtraccompletedriver);
        this.mtracForm.get('commandermtrac').setValue(this.mtrac.commandermtrac);
        this.mtracForm.get('drivermtrac').setValue(this.mtrac.drivermtrac);
    }
    gettime() {
        var cd = new Date(); // for now
        var nmtmoringstart = new Date();
        nmtmoringstart.setHours(7, 30, 0);
        var nmtmoringend = new Date();
        nmtmoringend.setHours(9, 30, 0);
        var nmtnightstart = new Date();
        nmtnightstart.setHours(17, 30, 0);
        var nmtnightend = new Date();
        nmtnightend.setHours(19, 30, 0);
        if (cd >= nmtmoringstart && cd < nmtmoringend) {
            return false;
        }
        if (cd >= nmtnightstart && cd < nmtnightend) {
            return false;
        }
        return true;
    }
    getcdt() {
        var cd = new Date(); // for now
        var cdt = cd.getDate() + "/"
            + (cd.getMonth() + 1) + "/"
            + cd.getFullYear() + " @ "
            + this.timenow();
        return cdt;
    }
    timenow() {
        var ct = new Date(); // for now
        var r = "";
        if (ct.getHours() < 10) {
            r += 0;
            r += ct.getHours();
        }
        else {
            r += ct.getHours();
        }
        r += ":";
        if (ct.getMinutes() < 10) {
            r += 0;
            r += ct.getMinutes();
        }
        else {
            r += ct.getMinutes();
        }
        return r;
    }
    getapprovedvtypes() {
        var vtypes = _services_database_service__WEBPACK_IMPORTED_MODULE_4__["VehicleTypes"];
        if (this.database.current.user.mss_certified != true) {
            vtypes = vtypes.filter(vtype => vtype != 'MSS');
        }
        if (this.database.current.user.flb_certified != true) {
            vtypes = vtypes.filter(vtype => vtype != 'FLB');
        }
        if (this.database.current.user.belrex_certified != true) {
            vtypes = vtypes.filter(vtype => vtype != 'BELREX');
            return vtypes;
        }
    }
    onCancel() {
        this.navCtrl.pop();
    }
    showSubmit() {
        return true;
    }
    showToast(msg) {
        this.toastController.create({
            message: msg,
            duration: 2000,
            //  showCloseButton: true,
            //  closeButtonText: 'OK',
            position: 'bottom'
        }).then((obj) => {
            obj.present();
        });
    }
    getoverallrisk() {
        var licenseType = this.mtracForm.get('licenseType').value;
        var vehicleType2 = this.mtracForm.get('vehicleType2').value;
        var rest = this.mtracForm.get('rest').value;
        var health = this.mtracForm.get('health').value;
        var weather = this.mtracForm.get('weather').value;
        var route = this.mtracForm.get('route').value;
        var detailType = this.mtracForm.get('detailType').value;
        var vc = this.mtracForm.get('vc').value;
        var vehicleServiceability = this.mtracForm.get('vehicleServiceability').value;
        if (licenseType == "N" || health == "N" || vc == "N" || vehicleServiceability == "N" || licenseType == "" || health == "" || vehicleServiceability == "") {
            return false;
        }
        else if (licenseType == "H" || vehicleType2 == "H" || rest == "H" || health == "H" || weather == "H" || route == "H" || detailType == "H" || vc == "H" || vehicleServiceability == "H") {
            return "HIGH";
        }
        else if (licenseType == "M" || vehicleType2 == "M" || rest == "M" || health == "M" || weather == "M" || route == "M" || detailType == "M" || vc == "M" || vehicleServiceability == "M") {
            return "MEDIUM";
        }
        else if (licenseType == "L" || vehicleType2 == "L" || rest == "L" || health == "L" || weather == "L" || route == "L" || detailType == "L" || vc == "L" || vehicleServiceability == "L") {
            return "LOW";
        }
    }
    getcmdchecklistcomplete() {
        if (this.mtracForm.get('cmdlicense').value == false ||
            this.mtracForm.get('cmdspeedlimit').value == false ||
            this.mtracForm.get('cmddanger').value == false ||
            this.mtracForm.get('cmdreverse').value == false ||
            this.mtracForm.get('seatbeltcommander').value == false ||
            this.mtracForm.get('seatingcommander').value == false ||
            this.mtracForm.get('safetystrapcommander').value == false ||
            this.mtracForm.get('smokingcommander').value == false ||
            this.mtracForm.get('loadcommander').value == false ||
            this.mtracForm.get('seatbelttroopscommander').value == false ||
            this.mtracForm.get('accidentcommander').value == false ||
            this.mtracForm.get('mtraccompletecommander').value == false ||
            this.mtracForm.get('cmdchecklistcomplete').value == false ||
            this.mtracForm.get('commandermtrac').value == false) {
            return false;
        }
        return true;
    }
    getcmdchecklistcomplete2() {
        if (this.mtracForm.get('cmdlicense').value == false ||
            this.mtracForm.get('cmdspeedlimit').value == false ||
            this.mtracForm.get('cmddanger').value == false ||
            this.mtracForm.get('cmdreverse').value == false ||
            this.mtracForm.get('seatbeltcommander').value == false ||
            this.mtracForm.get('seatingcommander').value == false ||
            this.mtracForm.get('safetystrapcommander').value == false ||
            this.mtracForm.get('smokingcommander').value == false ||
            this.mtracForm.get('loadcommander').value == false ||
            this.mtracForm.get('seatbelttroopscommander').value == false ||
            this.mtracForm.get('accidentcommander').value == false ||
            this.mtracForm.get('mtraccompletecommander').value == false ||
            this.mtracForm.get('cmdchecklistcomplete').value == false) {
            return false;
        }
        return true;
    }
    getdriverchecklistcomplete() {
        if (this.mtracForm.get('seatbeltdriver').value == false ||
            this.mtracForm.get('seatingdriver').value == false ||
            this.mtracForm.get('safetystrapdriver').value == false ||
            this.mtracForm.get('smokingdriver').value == false ||
            this.mtracForm.get('loaddriver').value == false ||
            this.mtracForm.get('seatbelttroopsdriver').value == false ||
            this.mtracForm.get('accidentdriver').value == false ||
            this.mtracForm.get('mtraccompletedriver').value == false ||
            this.mtracForm.get('drivermtrac').value == false) {
            return false;
        }
        return true;
    }
    addmtrac(value) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            if (this.mtrac == null) {
                try {
                    var new_mtrac = {
                        created: this.database.getTimeStamp(),
                        driver: this.database.current.user.email,
                        commander: this.mtracForm.value.commander,
                        status: "pending",
                        // Stage-1 details
                        vehicleNumber: this.mtracForm.value.vehicleNumber,
                        //vehicle_type: this.mtracForm.value.vehicleType,
                        startLocation: this.mtracForm.value.startLocation,
                        endLocation: this.mtracForm.value.endLocation,
                        fleet: this.database.current.user.fleet,
                        company: this.database.current.user.company,
                        licenseType: this.mtracForm.value.licenseType,
                        vehicleType2: this.mtracForm.value.vehicleType2,
                        rest: this.mtracForm.value.rest,
                        health: this.mtracForm.value.health,
                        weather: this.mtracForm.value.weather,
                        route: this.mtracForm.value.route,
                        detailType: this.mtracForm.value.detailType,
                        vc: this.mtracForm.value.vc,
                        vehicleServiceability: this.mtracForm.value.vehicleServiceability,
                        incamp: this.mtracForm.value.incamp,
                        cmdlicense: false,
                        cmdspeedlimit: false,
                        cmddanger: false,
                        cmdreverse: false,
                        seatbeltcommander: false,
                        seatingcommander: false,
                        safetystrapcommander: false,
                        smokingcommander: false,
                        loadcommander: false,
                        seatbelttroopscommander: false,
                        accidentcommander: false,
                        mtraccompletecommander: false,
                        cmdchecklistcomplete: false,
                        seatbeltdriver: this.mtracForm.value.seatbeltdriver,
                        seatingdriver: this.mtracForm.value.seatingdriver,
                        safetystrapdriver: this.mtracForm.value.safetystrapdriver,
                        smokingdriver: this.mtracForm.value.smokingdriver,
                        loaddriver: this.mtracForm.value.loaddriver,
                        seatbelttroopsdriver: this.mtracForm.value.seatbelttroopsdriver,
                        accidentdriver: this.mtracForm.value.accidentdriver,
                        mtraccompletedriver: this.mtracForm.value.mtraccompletedriver,
                        drivermtrac: this.mtracForm.value.drivermtrac,
                        commandermtrac: false,
                    };
                    let subAutoID = this.database.collection('mtrac').doc().id;
                    new_mtrac.id = subAutoID;
                    console.log('new_mtrac=${JSON.stringify(new_mtrac)}');
                    yield this.database.write('mtrac', new_mtrac.id, new_mtrac);
                    this.errorMessage = '';
                    this.successMessage = 'Your MT-RAC form has been submitted to your vehicle commander for approval.';
                    this.showToast(this.successMessage);
                }
                catch (err) {
                    this.errorMessage = `Add MT-RAC error: ${err}`;
                    this.successMessage = '';
                    this.showToast(this.errorMessage);
                    console.log(this.errorMessage);
                    this.navCtrl.pop();
                }
            }
            else if (this.database.current.user.is_commander) {
                // commander has verified/rejected drive, update drive status.
                this.mtrac.status = "verified";
                this.mtrac.cmdlicense = this.mtracForm.get('cmdlicense').value;
                this.mtrac.cmdspeedlimit = this.mtracForm.get('cmdspeedlimit').value;
                this.mtrac.cmddanger = this.mtracForm.get('cmddanger').value;
                this.mtrac.cmdreverse = this.mtracForm.get('cmdreverse').value;
                this.mtrac.seatbeltcommander = this.mtracForm.get('seatbeltcommander').value;
                this.mtrac.seatingcommander = this.mtracForm.get('seatingcommander').value;
                this.mtrac.safetystrapcommander = this.mtracForm.get('safetystrapcommander').value;
                this.mtrac.smokingcommander = this.mtracForm.get('smokingcommander').value;
                this.mtrac.loadcommander = this.mtracForm.get('loadcommander').value;
                this.mtrac.seatbelttroopscommander = this.mtracForm.get('seatbelttroopscommander').value;
                this.mtrac.accidentcommander = this.mtracForm.get('accidentcommander').value;
                this.mtrac.mtraccompletecommander = this.mtracForm.get('mtraccompletecommander').value;
                this.mtrac.cmdchecklistcomplete = this.mtracForm.get('cmdchecklistcomplete').value;
                this.mtrac.commandermtrac = this.mtracForm.get('commandermtrac').value;
                // update status in database
                yield this.database.write('mtrac', this.mtrac.id, this.mtrac);
                this.errorMessage = '';
                this.successMessage = 'The MT-RAC Form is completed successfully.';
                this.showToast(this.successMessage);
            }
        });
    }
};
mtracPage.ctorParameters = () => [
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["NavController"] },
    { type: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"] },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ToastController"] },
    { type: _services_database_service__WEBPACK_IMPORTED_MODULE_4__["DatabaseService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_5__["ActivatedRoute"] }
];
mtracPage = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-mtrac',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./mtrac.page.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/mtrac/mtrac.page.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./mtrac.page.scss */ "./src/app/mtrac/mtrac.page.scss")).default]
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_3__["NavController"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"],
        _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ToastController"],
        _services_database_service__WEBPACK_IMPORTED_MODULE_4__["DatabaseService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_5__["ActivatedRoute"]])
], mtracPage);



/***/ })

}]);
//# sourceMappingURL=mtrac-mtrac-module-es2015.js.map