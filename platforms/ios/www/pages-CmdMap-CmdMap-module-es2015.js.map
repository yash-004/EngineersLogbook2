{"version":3,"sources":["./src/app/pages/CmdMap/CmdMap.page.html","./src/app/pages/CmdMap/CmdMap.module.ts","./src/app/pages/CmdMap/CmdMap.page.scss","./src/app/pages/CmdMap/CmdMap.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,wPAAyL,YAAY,eAAe,8BAA8B,0B;;;;;;;;;;;;;;;;;;;;;;ACAxN;AACM;AACF;AACoB;AAClB;AAGJ;AAmB3C,IAAa,gBAAgB,GAA7B,MAAa,gBAAgB;CAAG;AAAnB,gBAAgB;IAf5B,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,kEAAmB;YACnB,4DAAY,CAAC,QAAQ,CAAC;gBACpB;oBACE,IAAI,EAAE,EAAE;oBACR,SAAS,EAAE,uDAAU;iBACtB;aACF,CAAC;SACH;QACD,YAAY,EAAE,CAAC,uDAAU,CAAC;KAC3B,CAAC;GACW,gBAAgB,CAAG;AAAH;;;;;;;;;;;;;AC1B7B;AAAe,+EAAgB,8EAA8E,WAAW,YAAY,8CAA8C,8CAA8C,uDAAuD,iBAAiB,uBAAuB,4BAA4B,qBAAqB,qBAAqB,oDAAoD,GAAG,sGAAsG,iFAAiF,gBAAgB,gBAAgB,YAAY,GAAG,sEAAsE,kBAAkB,uBAAuB,WAAW,YAAY,gFAAgF,0CAA0C,qFAAqF,cAAc,oFAAoF,wCAAwC,gCAAgC,GAAG,iGAAiG,iBAAiB,cAAc,uBAAuB,4DAA4D,GAAG,6CAA6C,+nJ;;;;;;;;;;;;;;;;;;;;;;;;ACA91C;AAC1B;AACL;AACmD;AAKjC;AACV;AACb;AASrC,IAAa,UAAU,GAAvB,MAAa,UAAU;IAOrB,YAAmB,OAAsB,EAChC,QAAkB,EACjB,WAAwB,EACzB,QAAyB,EACxB,MAAc;QAJL,YAAO,GAAP,OAAO,CAAe;QAChC,aAAQ,GAAR,QAAQ,CAAU;QACjB,gBAAW,GAAX,WAAW,CAAa;QACzB,aAAQ,GAAR,QAAQ,CAAiB;QACxB,WAAM,GAAN,MAAM,CAAQ;QAPxB,YAAO,GAAG,EAAE,CAAC;QAEb,QAAG,GAAG,iDAAiB,EAAE,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;QAM7C,QAAQ,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE;YACzB,IAAI,CAAC,OAAO,EAAE,CAAC;QACjB,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC,EAAE;YAC1B,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,eAAe,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;gBACjC,IAAI,KAAK,GAAG,gBAAgB,CAAC;gBAC7B,IAAI,cAAc,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;gBAC9H,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBAC1C,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;gBAC9F,IAAI,CAAC,SAAS,CAAC,cAAc,EAAC,KAAK,EAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACrE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAC/B,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,OAAO;QACL,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACxC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE;YACjH,IAAI,UAAU,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAE,CAAC;YACpI,IAAK,CAAE,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EACxL;gBACE,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,GAAG,EAAC,GAAG,EAAE,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAC,GAAG,EAAE,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC;gBAC3I,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;aAC3F;YACD,IAAI,CAAC,GAAG,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,EAC5D;gBACI,IAAI,EAAE,EAAE;gBACR,MAAM,EAAE,UAAU;aACrB,CAAC,CAAC;QACH,CAAC,CAAC,CAAC;QACH,IAAI,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE,CAAC;QAC7C,KAAK,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACvB,IAAI,cAAc,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACtI,IAAK,CAAE,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EACxL;gBACE,IAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,IAAI,KAAK,GAAG,gBAAgB,CAAC;gBAC7B,IAAI,CAAC,SAAS,CAAC,cAAc,EAAC,KAAK,EAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACrE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBAC3B,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;gBAC/B,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,GAAG,EAAC,GAAG,EAAE,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAC,GAAG,EAAE,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC;gBAC3I,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBACjD,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;gBACrB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;aAC3F;YACD,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YACxB,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,wBAAwB,EACjE;gBACE,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,IAAI,OAAO,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,EAAC,MAAM,CAAC,GAAG,CAAC,CAAC,KAAI,KAAK,GAAG,gBAAgB,CAAC,KAAI,CAAC,SAAS,CAAC,OAAO,EAAC,KAAK,EAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAC,CAAC,CAAC;aAC3O;YACH,IAAI,KAAK,GAAG,gBAAgB,CAAC;YAC7B,IAAI,CAAC,SAAS,CAAC,cAAc,EAAC,KAAK,EAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACrE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC7B,CAAC,CAAC,CAAC;IACL,CAAC;IAEK,eAAe,CAAC,KAAa;;YACjC,IAAI,MAAM,GAAI,MAAM,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,EAAC,KAAK,CAAC,CAAC;YACrD,IAAI,CAAC,IAAI,GAAG;gBACV,MAAM,EAAE,MAAM,CAAC,IAAI,EAAU;aAC9B,CAAC;YACF,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;QACnC,CAAC;KAAA;IAED,SAAS,CAAC,QAAQ,EAAE,KAAK,EAAE,IAAI;QAC7B,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;YAClC,QAAQ,EAAE,QAAQ;YAClB,GAAG,EAAE,IAAI,CAAC,GAAG;YACb,IAAI,EAAE,KAAK;YACX,KAAK,EAAE,IAAI;SACZ,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC5B,CAAC;IAED,WAAW,CAAC,GAAG;QACb,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC5C,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;SAC7B;IACH,CAAC;IAED,YAAY;QACV,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IACzB,CAAC;IAED,aAAa;QACX,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;IACpB,CAAC;CAEF;;YAhG6B,4DAAa;YACtB,uDAAQ;YACJ,yEAAW;YACf,0EAAe;YAChB,+DAAM;;AATW;IAAlC,+DAAS,CAAC,KAAK,EAAE,EAAC,MAAM,EAAE,KAAK,EAAC,CAAC;oEAAa,wDAAU;8CAAC;AAF/C,UAAU;IANtB,+DAAS,CAAC;QACT,QAAQ,EAAE,YAAY;QACtB,kNAAgC;;KAEjC,CAAC;2EAS4B,4DAAa;QACtB,uDAAQ;QACJ,yEAAW;QACf,0EAAe;QAChB,+DAAM;GAXb,UAAU,CAuGtB;AAvGsB;AAyGhB,MAAM,eAAe,GAAG,QAAQ,CAAC,EAAE;IACtC,IAAI,SAAS,GAAG,EAAE,CAAC;IAEnB,QAAQ,CAAC,OAAO,CAAC,aAAa,CAAC,EAAE;QAC7B,IAAI,IAAI,GAAG,aAAa,CAAC,GAAG,EAAE,CAAC;QAC/B,IAAI,CAAC,GAAG,GAAG,aAAa,CAAC,GAAG,CAAC;QAC7B,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACzB,CAAC,CAAC,CAAC;IAEH,OAAO,SAAS,CAAC;AACrB,CAAC,CAAC;AACF;;;;;;;;OAQO","file":"pages-CmdMap-CmdMap-module-es2015.js","sourcesContent":["export default \"<ion-content padding>\\n    <script src=\\\"https://maps.googleapis.com/maps/api/js?key=AIzaSyCZ71jPdOF6e02nQmca2WrbJw_QeXZBh5Q\\\"></script>\\n    <div #map id=\\\"map\\\" style=\\\"height: 100%;width: 100%;overflow: auto;background-color: transparent;\\\"></div>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { Device } from '@ionic-native/device/ngx';\nimport { CmdMapPage } from './CmdMap.page';\nimport { Component, OnInit, ElementRef, ViewChild } from '@angular/core';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: CmdMapPage\n      }\n    ])\n  ],\n  declarations: [CmdMapPage]\n})\nexport class CmdMapPageModule {}\n","export default \".popup-bubble {\\n  /* Position the bubble centred-above its parent. */\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  -webkit-transform: translate(-50%, -100%);\\n          transform: translate(-50%, -100%);\\n  /* Style the bubble. */\\n  background-color: white;\\n  padding: 5px;\\n  border-radius: 5px;\\n  font-family: sans-serif;\\n  overflow-y: auto;\\n  max-height: 60px;\\n  box-shadow: 0px 2px 10px 1px rgba(0, 0, 0, 0.5);\\n}\\n\\n/* The parent of the bubble. A zero-height div at the top of the tip. */\\n\\n.popup-bubble-anchor {\\n  /* Position the div a fixed distance above the tip. */\\n  position: absolute;\\n  width: 100%;\\n  bottom: 8px;\\n  left: 0;\\n}\\n\\n/* This element draws the tip. */\\n\\n.popup-bubble-anchor::after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  /* Center the tip horizontally. */\\n  -webkit-transform: translate(-50%, 0);\\n          transform: translate(-50%, 0);\\n  /* The tip is a https://css-tricks.com/snippets/css/css-triangle/ */\\n  width: 0;\\n  height: 0;\\n  /* The tip is 8px high, and 12px wide. */\\n  border-left: 6px solid transparent;\\n  border-right: 6px solid transparent;\\n  border-top: 8px solid white;\\n}\\n\\n/* JavaScript will position this div at the bottom of the popup tip. */\\n\\n.popup-container {\\n  cursor: auto;\\n  height: 0;\\n  position: absolute;\\n  /* The max width of the info window. */\\n  width: 200px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9sZXdpc3RoYW0vR2l0SHViL0VuZ2luZWVyc0xvZ2Jvb2syL3NyYy9hcHAvcGFnZXMvQ21kTWFwL0NtZE1hcC5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL0NtZE1hcC9DbWRNYXAucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ1Esa0RBQUE7RUFDQSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EseUNBQUE7VUFBQSxpQ0FBQTtFQUNBLHNCQUFBO0VBQ0EsdUJBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSx1QkFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7RUFDQSwrQ0FBQTtBQ0NSOztBRENNLHVFQUFBOztBQUNOO0VBQ1EscURBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0VBQ0EsT0FBQTtBQ0VSOztBREFNLGdDQUFBOztBQUNOO0VBQ1EsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7RUFDQSxpQ0FBQTtFQUNBLHFDQUFBO1VBQUEsNkJBQUE7RUFDQSxtRUFBQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0VBQ0Esd0NBQUE7RUFDQSxrQ0FBQTtFQUNBLG1DQUFBO0VBQ0EsMkJBQUE7QUNHUjs7QURETSxzRUFBQTs7QUFDTjtFQUNRLFlBQUE7RUFDQSxTQUFBO0VBQ0Esa0JBQUE7RUFDQSxzQ0FBQTtFQUNBLFlBQUE7QUNJUiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL0NtZE1hcC9DbWRNYXAucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnBvcHVwLWJ1YmJsZSB7XG4gICAgICAgIC8qIFBvc2l0aW9uIHRoZSBidWJibGUgY2VudHJlZC1hYm92ZSBpdHMgcGFyZW50LiAqL1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTEwMCUpO1xuICAgICAgICAvKiBTdHlsZSB0aGUgYnViYmxlLiAqL1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICAgICAgcGFkZGluZzogNXB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgICAgIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmO1xuICAgICAgICBvdmVyZmxvdy15OiBhdXRvO1xuICAgICAgICBtYXgtaGVpZ2h0OiA2MHB4O1xuICAgICAgICBib3gtc2hhZG93OiAwcHggMnB4IDEwcHggMXB4IHJnYmEoMCwwLDAsMC41KTtcbn1cbiAgICAgIC8qIFRoZSBwYXJlbnQgb2YgdGhlIGJ1YmJsZS4gQSB6ZXJvLWhlaWdodCBkaXYgYXQgdGhlIHRvcCBvZiB0aGUgdGlwLiAqL1xuLnBvcHVwLWJ1YmJsZS1hbmNob3Ige1xuICAgICAgICAvKiBQb3NpdGlvbiB0aGUgZGl2IGEgZml4ZWQgZGlzdGFuY2UgYWJvdmUgdGhlIHRpcC4gKi9cbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgYm90dG9tOiAvKiBUSVBfSEVJR0hUPSAqLyA4cHg7XG4gICAgICAgIGxlZnQ6IDA7XG59XG4gICAgICAvKiBUaGlzIGVsZW1lbnQgZHJhd3MgdGhlIHRpcC4gKi9cbi5wb3B1cC1idWJibGUtYW5jaG9yOjphZnRlciB7XG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAvKiBDZW50ZXIgdGhlIHRpcCBob3Jpem9udGFsbHkuICovXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIDApO1xuICAgICAgICAvKiBUaGUgdGlwIGlzIGEgaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9zbmlwcGV0cy9jc3MvY3NzLXRyaWFuZ2xlLyAqL1xuICAgICAgICB3aWR0aDogMDtcbiAgICAgICAgaGVpZ2h0OiAwO1xuICAgICAgICAvKiBUaGUgdGlwIGlzIDhweCBoaWdoLCBhbmQgMTJweCB3aWRlLiAqL1xuICAgICAgICBib3JkZXItbGVmdDogNnB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgICAgICBib3JkZXItcmlnaHQ6IDZweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgICAgYm9yZGVyLXRvcDogLyogVElQX0hFSUdIVD0gKi8gOHB4IHNvbGlkIHdoaXRlO1xufVxuICAgICAgLyogSmF2YVNjcmlwdCB3aWxsIHBvc2l0aW9uIHRoaXMgZGl2IGF0IHRoZSBib3R0b20gb2YgdGhlIHBvcHVwIHRpcC4gKi9cbi5wb3B1cC1jb250YWluZXIge1xuICAgICAgICBjdXJzb3I6IGF1dG87XG4gICAgICAgIGhlaWdodDogMDtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAvKiBUaGUgbWF4IHdpZHRoIG9mIHRoZSBpbmZvIHdpbmRvdy4gKi9cbiAgICAgICAgd2lkdGg6IDIwMHB4O1xufVxuIiwiLnBvcHVwLWJ1YmJsZSB7XG4gIC8qIFBvc2l0aW9uIHRoZSBidWJibGUgY2VudHJlZC1hYm92ZSBpdHMgcGFyZW50LiAqL1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTEwMCUpO1xuICAvKiBTdHlsZSB0aGUgYnViYmxlLiAqL1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgcGFkZGluZzogNXB4O1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmO1xuICBvdmVyZmxvdy15OiBhdXRvO1xuICBtYXgtaGVpZ2h0OiA2MHB4O1xuICBib3gtc2hhZG93OiAwcHggMnB4IDEwcHggMXB4IHJnYmEoMCwgMCwgMCwgMC41KTtcbn1cblxuLyogVGhlIHBhcmVudCBvZiB0aGUgYnViYmxlLiBBIHplcm8taGVpZ2h0IGRpdiBhdCB0aGUgdG9wIG9mIHRoZSB0aXAuICovXG4ucG9wdXAtYnViYmxlLWFuY2hvciB7XG4gIC8qIFBvc2l0aW9uIHRoZSBkaXYgYSBmaXhlZCBkaXN0YW5jZSBhYm92ZSB0aGUgdGlwLiAqL1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHdpZHRoOiAxMDAlO1xuICBib3R0b206IDhweDtcbiAgbGVmdDogMDtcbn1cblxuLyogVGhpcyBlbGVtZW50IGRyYXdzIHRoZSB0aXAuICovXG4ucG9wdXAtYnViYmxlLWFuY2hvcjo6YWZ0ZXIge1xuICBjb250ZW50OiBcIlwiO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgLyogQ2VudGVyIHRoZSB0aXAgaG9yaXpvbnRhbGx5LiAqL1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAwKTtcbiAgLyogVGhlIHRpcCBpcyBhIGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vc25pcHBldHMvY3NzL2Nzcy10cmlhbmdsZS8gKi9cbiAgd2lkdGg6IDA7XG4gIGhlaWdodDogMDtcbiAgLyogVGhlIHRpcCBpcyA4cHggaGlnaCwgYW5kIDEycHggd2lkZS4gKi9cbiAgYm9yZGVyLWxlZnQ6IDZweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgYm9yZGVyLXJpZ2h0OiA2cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gIGJvcmRlci10b3A6IDhweCBzb2xpZCB3aGl0ZTtcbn1cblxuLyogSmF2YVNjcmlwdCB3aWxsIHBvc2l0aW9uIHRoaXMgZGl2IGF0IHRoZSBib3R0b20gb2YgdGhlIHBvcHVwIHRpcC4gKi9cbi5wb3B1cC1jb250YWluZXIge1xuICBjdXJzb3I6IGF1dG87XG4gIGhlaWdodDogMDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICAvKiBUaGUgbWF4IHdpZHRoIG9mIHRoZSBpbmZvIHdpbmRvdy4gKi9cbiAgd2lkdGg6IDIwMHB4O1xufSJdfQ== */\"","import { Component, OnInit, ElementRef, ViewChild } from '@angular/core';\nimport { NavController } from '@ionic/angular';\nimport { Platform } from '@ionic/angular';\nimport { DatabaseService, User, Drive, VehicleTypes } from '../../services/database.service';\nimport { Chart } from \"chart.js\";\nimport { PipesModule } from '../../pipes/pipes.module';\nimport * as dayjs from 'dayjs';\nimport { ToastController } from '@ionic/angular';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { Device } from '@ionic-native/device/ngx';\nimport * as firebase from 'firebase';\ndeclare var google: any;\n\n@Component({\n  selector: 'app-CmdMap',\n  templateUrl:'./CmdMap.page.html',\n  styleUrls: ['./CmdMap.page.scss'],\n})\n\nexport class CmdMapPage {\n\n  @ViewChild('map', {static: false}) mapElement: ElementRef;\n  map: any;\n  markers = [];\n  drvr: any;\n  ref = firebase.database().ref('geolocations/');\n  constructor(public navCtrl: NavController,\n    public platform: Platform,\n    private geolocation: Geolocation,\n    public database: DatabaseService,\n    private device: Device) {\n    platform.ready().then(() => {\n      this.initMap();\n    });\n    this.ref.on('value', resp => {\n      this.deleteMarkers();\n      snapshotToArray(resp).forEach(data => {\n          let image = 'assets/car.png';\n          let updatelocation = new google.maps.LatLng(this.database.current.user.location.lat, this.database.current.user.location.lng);\n          console.log(data.latitude,data.longitude);\n          console.log(this.database.current.user.location.lat, this.database.current.user.location.lng);\n          this.addMarker(updatelocation,image,this.database.current.user.name);\n          this.setMapOnAll(this.map);\n      });\n    });\n  }\n\n  initMap() {\n    console.log(this.database.current.user);\n    this.geolocation.getCurrentPosition({ maximumAge: 3000, timeout: 5000, enableHighAccuracy: true }).then((resp) => {\n    let mylocation = new google.maps.LatLng(parseFloat( resp.coords.latitude.toFixed(9)),parseFloat(resp.coords.longitude.toFixed(9)) );\n    if ( ( parseFloat(resp.coords.latitude.toFixed(9)), parseFloat(resp.coords.longitude.toFixed(9)) ) != (this.database.current.user.location.lat, this.database.current.user.location.lng) )\n    {\n      this.database.current.user.location = {lat: parseFloat(resp.coords.latitude.toFixed(9)),lng: parseFloat(resp.coords.longitude.toFixed(9))};\n      this.database.write('user', this.database.current.user.email, this.database.current.user);\n    }\n    this.map = new google.maps.Map(this.mapElement.nativeElement,\n    {\n        zoom: 15,\n        center: mylocation\n    });\n    });\n    let watch = this.geolocation.watchPosition();\n    watch.subscribe((data) => {\n      let updatelocation = new google.maps.LatLng(parseFloat(data.coords.latitude.toFixed(9)),parseFloat(data.coords.longitude.toFixed(9)));\n      if ( ( parseFloat(data.coords.latitude.toFixed(9)), parseFloat(data.coords.longitude.toFixed(9)) ) != (this.database.current.user.location.lat, this.database.current.user.location.lng) )\n      {\n        this.deleteMarkers();\n        let image = 'assets/car.png';\n        this.addMarker(updatelocation,image,this.database.current.user.name);\n        this.setMapOnAll(this.map);\n        this.map.panTo(updatelocation);\n        this.database.current.user.location = {lat: parseFloat(data.coords.latitude.toFixed(9)),lng: parseFloat(data.coords.longitude.toFixed(9))};\n        console.log(this.database.current.user.location);\n        console.log(\"write\");\n        this.database.write('user', this.database.current.user.email, this.database.current.user);\n      }\n      console.log(\"notmoved\");\n      this.deleteMarkers();\n      for (const driver of this.database.current.all_drivers_of_commander)\n        {\n          this.updatedriverloc(driver.email).then(result => { var drvrloc = new google.maps.LatLng(result.lat,result.lng);let image = 'assets/car.png';this.addMarker(drvrloc,image,driver.name); console.log(driver.email); console.log(result);});\n        }\n      let image = 'assets/car.png';\n      this.addMarker(updatelocation,image,this.database.current.user.name);\n      this.setMapOnAll(this.map);\n    });\n  }\n\n  async updatedriverloc(email: string) {\n    var result =  await this.database.read('user',email);\n    this.drvr = {\n      driver: result.data() as User,\n    };\n    return this.drvr.driver.location;\n  }\n\n  addMarker(location, image, name) {\n    let marker = new google.maps.Marker({\n      position: location,\n      map: this.map,\n      icon: image,\n      label: name\n    });\n    this.markers.push(marker);\n  }\n\n  setMapOnAll(map) {\n    for (var i = 0; i < this.markers.length; i++) {\n      this.markers[i].setMap(map);\n    }\n  }\n\n  clearMarkers() {\n    this.setMapOnAll(null);\n  }\n\n  deleteMarkers() {\n    this.clearMarkers();\n    this.markers = [];\n  }\n\n}\n\nexport const snapshotToArray = snapshot => {\n    let returnArr = [];\n\n    snapshot.forEach(childSnapshot => {\n        let item = childSnapshot.val();\n        item.key = childSnapshot.key;\n        returnArr.push(item);\n    });\n\n    return returnArr;\n};\n/*\n\nfor (var driver of this.database.current.all_drivers_of_commander){\n      var drvrloc = new google.maps.LatLng(driver.location.lat,driver.location.lng);\n      let image = 'assets/car.png';\n      this.addMarker(drvrloc,image,driver.name);\n      this.setMapOnAll(this.map);\nparseFloat(.toFixed(9))\n    }*/\n"],"sourceRoot":"webpack:///"}