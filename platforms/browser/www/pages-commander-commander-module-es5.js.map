{"version":3,"sources":["src/app/pages/commander/commander.page.html","src/app/pages/commander/commander.module.ts","src/app/pages/commander/commander.page.scss","src/app/pages/commander/commander.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Commander</ion-title>\\n    <ion-buttons slot=\\\"primary\\\">\\n      <ion-button left routerLink=\\\"/\\\" routerDirection=\\\"root\\\" fill=\\\"clear\\\" slot=\\\"primary\\\">\\n        Logout<ion-icon name=\\\"log-out\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <!-- Notifications -->\\n  <ion-item class=\\\"headers\\\" text-center><ion-label style=\\\"margin-bottom: 0;\\\"><h1> Notifications </h1></ion-label></ion-item>\\n\\n  <ion-card *ngFor=\\\"let drive of getPendingDrives()\\\" padding>\\n\\n    <ion-fab vertical=\\\"top\\\" horizontal=\\\"end\\\">\\n      <!--ion-fab-button size=\\\"small\\\" (click)=\\\"click(drive)\\\">View</ion-fab-button-->\\n      <ion-fab-button size=\\\"small\\\" (click)=\\\"click(drive)\\\"><ion-icon name='share-alt'></ion-icon></ion-fab-button>\\n      <!--ion-button fill=\\\"outline\\\" size=\\\"small\\\" (click)=\\\"click(drive)\\\">View</ion-button-->\\n    </ion-fab>\\n\\n    <ion-card-subtitle color='danger'><strong>Pending review</strong></ion-card-subtitle>\\n    <ion-card-title>{{drive.date}}</ion-card-title>\\n\\n    <ion-card-content no-padding>\\n      Your drive on <b>{{drive.date}}</b> with <b>{{drive.driver}}</b> from\\n      <b>{{drive.start_location}}</b> (<b>{{drive.start_time}}</b>) to \\n      <b>{{drive.end_location}}</b> (<b>{{drive.end_time}}</b>)\\n      is pending review.\\n    </ion-card-content>\\n\\n  </ion-card>\\n\\n  <ion-item class=\\\"headers\\\" text-center><ion-label style=\\\"margin-bottom: 0;\\\"><h1> Operators </h1></ion-label></ion-item>\\n\\n  <ion-card>\\n    <ion-list>\\n      <ion-item>\\n        <ion-label position=\\\"stacked\\\">Driver</ion-label>\\n        <ion-select id=\\\"driverlist\\\" interface=\\\"popover\\\" class=\\\"full-width-select\\\" value=\\\"ALL\\\">\\n          <ion-select-option value=\\\"ALL\\\">ALL</ion-select-option>\\n          <ion-select-option text-wrap *ngFor=\\\"let driver of database.current.all_drivers_of_commander\\\" value={{driver.email}} class=\\\"custom-font-size\\\">{{driver.email}}</ion-select-option>\\n        </ion-select>\\n      </ion-item>\\n    </ion-list>\\n  </ion-card>\\n  <ion-card *ngFor=\\\"let driver of getDrivers()\\\">\\n    <ion-card-header>\\n      <ion-card-subtitle><ion-icon name=\\\"person\\\" text-center (click)=\\\"showother()\\\"></ion-icon> <strong> {{driver.name}} ({{driver.email}})</strong></ion-card-subtitle>\\n      <ion-card-subtitle (click)=\\\"showother()\\\">Last drive: {{driver.summary.most_recent_drive | date: \\\"dd/MM/yyyy hh:mm\\\"}}, {{driver.summary.most_recent_drive | daysAgo}} days ago</ion-card-subtitle>\\n      <ion-label position=\\\"stacked\\\" *ngIf=\\\"checkAll()==true\\\"><h2>Certifications</h2></ion-label>\\n      <ion-button *ngIf=\\\"checkAll()==false\\\" (click)=\\\"showEdit()\\\">Certifications <ion-icon name=\\\"settings\\\"></ion-icon></ion-button>\\n      <ion-grid>\\n        <ion-row>\\n          <ion-col>\\n            <ion-label color=\\\"success\\\"> OUV </ion-label>\\n          </ion-col>\\n          <ion-col offset-4>\\n            <ion-label color=\\\"success\\\"> 5TON </ion-label>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col>\\n            <ion-label *ngIf=\\\"driver.mss_certified == true\\\" color=\\\"success\\\" > MSS </ion-label>\\n          </ion-col>\\n          <ion-col offset-4 >\\n            <ion-label *ngIf=\\\"driver.flb_certified == true\\\" color=\\\"success\\\"> FLB </ion-label>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col>\\n            <ion-label *ngIf=\\\"driver.belrex_certified == true\\\" color=\\\"success\\\"> BELREX </ion-label>\\n          </ion-col>\\n          <ion-col offset-4>\\n            <ion-label>  </ion-label>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n\\n      <ion-card *ngIf=\\\"checkEditDriverStatus()==true\\\">\\n        <ion-list>\\n          <ion-item>\\n            <ion-label position=\\\"stacked\\\">MSS</ion-label>\\n            <ion-select id=\\\"mss\\\" interface=\\\"popover\\\" value={{driver.mss_certified}}>\\n              <ion-select-option value=\\\"true\\\">Certified</ion-select-option>\\n              <ion-select-option value=\\\"false\\\">Not Certified</ion-select-option>\\n            </ion-select>\\n            <ion-label position=\\\"stacked\\\">FLB</ion-label>\\n            <ion-select id=\\\"flb\\\" interface=\\\"popover\\\" value={{driver.flb_certified}}>\\n              <ion-select-option value=\\\"true\\\">Certified</ion-select-option>\\n              <ion-select-option value=\\\"false\\\">Not Certified</ion-select-option>\\n            </ion-select>\\n            <ion-label position=\\\"stacked\\\">BELREX</ion-label>\\n            <ion-select id=\\\"belrex\\\" interface=\\\"popover\\\" value={{driver.belrex_certified}}>\\n              <ion-select-option value=\\\"true\\\">Certified</ion-select-option>\\n              <ion-select-option value=\\\"false\\\">Not Certified</ion-select-option>\\n            </ion-select>\\n          </ion-item>\\n        </ion-list>\\n        <ion-button (click)=\\\"updateCertfication(getDriver())\\\">save changes</ion-button>\\n      </ion-card>\\n    </ion-card-header>\\n\\n\\n\\n\\n    <ion-card-content>\\n      <ion-grid class=\\\"table\\\" no-padding>\\n\\n        <ion-row>\\n          <ion-col size=\\\"4\\\" class=\\\"bubble-text\\\" no-padding><ion-card no-padding (click)=\\\"showdrives()\\\">\\n            <div class=\\\"ion-text-center\\\" style=\\\"width: 100%;\\\">\\n              <ion-icon name=\\\"car\\\" size=\\\"large\\\" ></ion-icon><br>\\n              <div class=\\\"shift_up\\\">Drives</div>\\n              <div class=\\\"slide_num\\\">{{driver.summary.drive_count}}</div>\\n              <ion-label *ngIf=\\\"checkDriveStatus()\\\">\\n                <h6 *ngFor=\\\"let vehicle of driver.summary.most_recent_drive_by_vehicle_type | keyvalue\\\">\\n                  {{vehicle.key}} : {{getDrivesbyVehicleType(vehicle.key)}}\\n                </h6>\\n              </ion-label>\\n            </div>\\n          </ion-card></ion-col>\\n\\n          <ion-col size=\\\"4\\\" class=\\\"bubble-text\\\" no-padding><ion-card no-padding (click)=\\\"showmileage()\\\">\\n            <div class=\\\"ion-text-center\\\" style=\\\"width: 100%;\\\">\\n              <ion-icon name=\\\"speedometer\\\" size=\\\"large\\\"></ion-icon><br>\\n              <div class=\\\"shift_up\\\">Mileage</div>\\n              <div class=\\\"slide_num\\\">{{driver.summary.mileage_km}} km</div>\\n              <ion-label *ngIf=\\\"checkMileageStatus()\\\">\\n                <h6 *ngFor=\\\"let vehicle of driver.summary.most_recent_drive_by_vehicle_type | keyvalue\\\">\\n                  {{vehicle.key}} : {{getMileagebyVehicleType(driver.summary.mileage_by_vehicle_type, vehicle.key)}}\\n                </h6>\\n              </ion-label>\\n            </div>\\n          </ion-card></ion-col>\\n\\n          <ion-col size=\\\"4\\\" class=\\\"bubble-text\\\" no-padding><ion-card no-padding>\\n            <div class=\\\"ion-text-center\\\" style=\\\"width: 100%;\\\" (click)=\\\"showother()\\\">\\n              <ion-icon name=\\\"clock\\\" size=\\\"large\\\"></ion-icon><br>\\n              <div class=\\\"shift_up\\\">Time Driven</div>\\n              <div class=\\\"slide_num\\\">{{driver.summary.duration_minutes / 60 | number : '1.0-1' }} hours</div>\\n            </div>\\n          </ion-card></ion-col>\\n\\n\\n          <ion-row text-center style=\\\"padding: 0 10px\\\" *ngIf=\\\"checkDriveStatus() || checkMileageStatus() || checkOtherStatus()\\\" (click)=\\\"showother()\\\">\\n            <ion-col>\\n              average drive distance: <br/> {{driver.summary.mileage_km / driver.summary.drive_count | number : '1.0-1'}} km\\n            </ion-col>\\n            <ion-col>\\n              average drive duration: <br/>{{driver.summary.duration_minutes / 60 / driver.summary.drive_count | number : '1.0-1'}} hours\\n            </ion-col>\\n          </ion-row>\\n\\n          <ion-row text-center (click)=\\\"showother()\\\">\\n            <ion-col text-center><ion-card text-center>\\n              <ion-card-title text-center>\\n                <strong>JIT Countdown</strong>\\n              </ion-card-title>\\n              <ion-card-subtitle><strong>\\n                <ion-label color='danger' text-center>\\n                  <h2 *ngIf=\\\"checkTimelefttoJIT(driver.summary.most_recent_drive) == false\\\" style=\\\"padding: 0 100px\\\" text-center>\\n                    JIT REQUIRED!\\n                  </h2>\\n                </ion-label>\\n                <ion-label>\\n                  <ion-item *ngIf=\\\"checkTimelefttoJIT(driver.summary.most_recent_drive) == true\\\" style=\\\"padding: 0 55px\\\" text-center>\\n                    <countdown [config]=\\\"{leftTime: getTimelefttoJIT(driver.summary.most_recent_drive), format: 'dd'}\\\"></countdown>\\n                    <h6 style=\\\"padding-bottom: 5px\\\">days&ensp;</h6>\\n                    <countdown [config]=\\\"{leftTime: getTimelefttoJIT(driver.summary.most_recent_drive), format: 'HH'}\\\"></countdown>\\n                    <h6 style=\\\"padding-bottom: 5px\\\">hrs&ensp;</h6>\\n                    <countdown [config]=\\\"{leftTime: getTimelefttoJIT(driver.summary.most_recent_drive), format: 'mm'}\\\"></countdown>\\n                    <h6 style=\\\"padding-bottom: 5px\\\">mins&ensp;</h6>\\n                    <countdown [config]=\\\"{leftTime: getTimelefttoJIT(driver.summary.most_recent_drive), format: 'ss'}\\\"></countdown>\\n                    <h6 style=\\\"padding-bottom: 5px\\\">sec&ensp;</h6>\\n                  </ion-item>\\n                </ion-label>\\n              </strong></ion-card-subtitle>\\n            </ion-card></ion-col>\\n          </ion-row>\\n        </ion-row>\\n      </ion-grid>\\n      <!--<ion-grid  class=\\\"ion-no-padding\\\">\\n        <ion-row text-center>\\n          <ion-col text-center><ion-icon name=\\\"car\\\"></ion-icon> <br> Total Drives: <br> {{driver.summary.drive_count}}</ion-col>\\n          <ion-col text-center><ion-icon name=\\\"speedometer\\\"></ion-icon> <br> Total Mileage:<br> {{driver.summary.mileage_km}} KM</ion-col>\\n          <ion-col text-center><ion-icon name=\\\"clock\\\"></ion-icon> <br> Time Driven: <br> {{driver.summary.duration_minutes / 60 | number : '1.0-1' }} hours</ion-col>\\n        </ion-row>\\n\\n      </ion-grid>-->\\n\\n      <ion-item *ngFor=\\\"let vehicle of driver.summary.most_recent_drive_by_vehicle_type | keyvalue\\\" (click)=\\\"showother()\\\">\\n\\n\\n          <ion-col *ngIf=\\\"checkOtherStatus()\\\" (click)=\\\"showother()\\\">\\n            <ion-label *ngIf=\\\"checkOtherStatus()\\\">\\n              <h3 class=\\\"underline\\\" *ngIf=\\\"checkOperatorCurrencyValid(vehicle.key,driver.summary.most_recent_drive_by_vehicle_type[vehicle.key])\\\">{{vehicle.key}}</h3>\\n            </ion-label >\\n            <ion-label  color='danger' *ngIf=\\\"checkOtherStatus()\\\">\\n               <h3 class=\\\"underline\\\" *ngIf=\\\"checkOperatorCurrencyInvalid(vehicle.key,driver.summary.most_recent_drive_by_vehicle_type[vehicle.key])\\\">{{vehicle.key}}</h3>\\n            </ion-label>\\n          \\n           Last Drive: {{driver.summary.most_recent_drive_by_vehicle_type[vehicle.key] | date: \\\"dd/MM/yyyy\\\"}}\\n           ({{driver.summary.most_recent_drive_by_vehicle_type[vehicle.key] | daysAgo}} days ago)</ion-col>\\n      </ion-item>\\n    </ion-card-content>\\n  </ion-card>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CommanderPage } from './commander.page';\nimport { DriveViewModule } from '../../drive-view/drive-view.module';\nimport { PipesModule } from '../../pipes/pipes.module';\n\nimport { CountdownModule } from 'ngx-countdown';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CommanderPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CountdownModule,\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    DriveViewModule,\n    PipesModule,\n  ],\n  declarations: [CommanderPage]\n})\nexport class CommanderPageModule {}\n","export default \".div {\\n  text-align: center;\\n  border: 6px solid black;\\n}\\n\\n.vertical-align-content > * {\\n  display: -webkit-box !important;\\n  display: flex !important;\\n  align-content: center !important;\\n  -webkit-box-align: center !important;\\n          align-items: center !important;\\n}\\n\\n.full-width-select {\\n  width: 100%;\\n  max-width: 100%;\\n}\\n\\n.custom-font-size {\\n  font-size: 0.8em;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy95YXNoZGl4aXQvRGVza3RvcC9FbmdpbmVlcnNMb2dib29rMi9zcmMvYXBwL3BhZ2VzL2NvbW1hbmRlci9jb21tYW5kZXIucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9jb21tYW5kZXIvY29tbWFuZGVyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0VBQ0EsdUJBQUE7QUNDSjs7QURDQTtFQUVLLCtCQUFBO0VBQUEsd0JBQUE7RUFDQSxnQ0FBQTtFQUNBLG9DQUFBO1VBQUEsOEJBQUE7QUNDTDs7QURFQTtFQUNFLFdBQUE7RUFDQSxlQUFBO0FDQ0Y7O0FEQ0E7RUFDSSxnQkFBQTtBQ0VKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvY29tbWFuZGVyL2NvbW1hbmRlci5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZGl2e1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBib3JkZXI6IDZweCBzb2xpZCBibGFjaztcbn1cbi52ZXJ0aWNhbC1hbGlnbi1jb250ZW50ID4gKlxue1xuICAgICBkaXNwbGF5OiBmbGV4IWltcG9ydGFudDtcbiAgICAgYWxpZ24tY29udGVudDogY2VudGVyIWltcG9ydGFudDtcbiAgICAgYWxpZ24taXRlbXM6IGNlbnRlciFpbXBvcnRhbnQ7XG59XG5cbi5mdWxsLXdpZHRoLXNlbGVjdCB7XG4gIHdpZHRoOiAxMDAlO1xuICBtYXgtd2lkdGg6IDEwMCU7XG59XG4uY3VzdG9tLWZvbnQtc2l6ZSB7XG4gICAgZm9udC1zaXplOiAwLjhlbTtcbn0iLCIuZGl2IHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBib3JkZXI6IDZweCBzb2xpZCBibGFjaztcbn1cblxuLnZlcnRpY2FsLWFsaWduLWNvbnRlbnQgPiAqIHtcbiAgZGlzcGxheTogZmxleCAhaW1wb3J0YW50O1xuICBhbGlnbi1jb250ZW50OiBjZW50ZXIgIWltcG9ydGFudDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlciAhaW1wb3J0YW50O1xufVxuXG4uZnVsbC13aWR0aC1zZWxlY3Qge1xuICB3aWR0aDogMTAwJTtcbiAgbWF4LXdpZHRoOiAxMDAlO1xufVxuXG4uY3VzdG9tLWZvbnQtc2l6ZSB7XG4gIGZvbnQtc2l6ZTogMC44ZW07XG59Il19 */\"","import { Component, OnInit, ElementRef } from '@angular/core';\nimport { NavController } from '@ionic/angular';\nimport { Platform } from '@ionic/angular';\nimport { DatabaseService, User, Drive, VehicleTypes } from '../../services/database.service';\nimport { Chart } from \"chart.js\";\nimport { PipesModule } from '../../pipes/pipes.module';\nimport * as dayjs from 'dayjs';\nimport { ToastController } from '@ionic/angular';\n\n\n@Component({\n  selector: 'app-commander',\n  templateUrl: './commander.page.html',\n  styleUrls: ['./commander.page.scss'],\n})\n\nexport class CommanderPage implements OnInit {\n\n  constructor(\n    private navCtrl: NavController,\n    public database: DatabaseService,\n    private platform: Platform,\n    public toastController: ToastController, ) { }\n\n  drivestatus = 9 > 10;\n  mileagestatus = 9 > 10;\n  otherstatus = 9 > 10;\n  drivereditstatus = 9 > 10;\n  successMessage = '';\n  errorMessage = '';\n\n  ngOnInit() {\n  }\n\n  public editDriver(driver: string) : User[] {\n    var drivr = this.database.current.all_drivers_of_commander;\n    drivr = drivr.filter( (drvr) => drvr.email == driver);\n    this.drivereditstatus = !this.drivereditstatus;\n    return drivr;\n  }\n\n  public showEdit() {\n    return this.drivereditstatus = !this.drivereditstatus;\n  }\n\n  public getDrvr(driver: string) : User[] {\n    var drivr = this.database.current.all_drivers_of_commander;\n    return drivr.filter( (drvr) => drvr.email == driver);\n  }\n\n  public getDrivers() : User[] {\n    var drivers = this.database.current.all_drivers_of_commander;\n    var drvrs = (<HTMLInputElement>document.getElementById(\"driverlist\")).value;\n    if (drvrs != \"ALL\") {\n      return drivers.filter( (driver) => driver.email == drvrs);\n    }\n    return drivers\n  }\n\n  public getDriver() : User {\n    var driver = this.database.current.all_drivers_of_commander;\n    var drvrs = (<HTMLInputElement>document.getElementById(\"driverlist\")).value;\n    return driver.filter( (driver) => driver.email == drvrs)[0];\n  }\n\n  async updateCertfication(driver: any) {\n    //console.log(driver);\n    var mssc = (<HTMLInputElement>document.getElementById(\"mss\")).value.toLowerCase() === 'true';\n    var flbc = (<HTMLInputElement>document.getElementById(\"flb\")).value.toLowerCase() === 'true';\n    var belrexc = (<HTMLInputElement>document.getElementById(\"belrex\")).value.toLowerCase() === 'true';\n    driver.mss_certified = mssc;\n    driver.flb_certified = flbc;\n    driver.belrex_certified = belrexc;\n    try {\n      await this.database.write('user',driver.email,driver);\n      this.drivereditstatus = !this.drivereditstatus;\n      this.successMessage = 'the driver account has been updated.';\n      this.showToast(this.successMessage);\n    } catch(err) {\n        console.log(err);\n        this.errorMessage = err.message;\n        this.successMessage = '';\n    }\n  }\n\n  public checkAll() {\n    var drivers = (<HTMLInputElement>document.getElementById(\"driverlist\")).value;\n    return drivers == \"ALL\";\n  }\n\n\n  showToast(msg) {\n    this.toastController.create({\n      message: msg,\n      duration: 2000,\n      showCloseButton: true,\n      closeButtonText: 'OK',\n      position: 'middle'\n    }).then((obj) => {\n      obj.present();\n    });\n  }\n\n  public checkEditDriverStatus() {\n    return this.drivereditstatus;\n  }\n  \n  public checkOperatorCurrencyValid(vehicletype:string, date:any){\n    const today = dayjs();\n    var period =  8;\n    return today.diff(date,\"day\") < period ;\n  }\n\n  public checkOperatorCurrencyInvalid(vehicletype:string, date:any){\n    const today = dayjs();\n    var period = 8;\n    return today.diff(date,\"day\") > period ;\n  }\n\n  public showdrives(){\n    this.drivestatus = !this.drivestatus;\n  }\n\n  public checkDriveStatus(){\n    return this.drivestatus;\n  }\n\n  public showmileage(){\n    this.mileagestatus = !this.mileagestatus;\n  }\n\n  public checkMileageStatus(){\n    return this.mileagestatus;\n  }\n\n  public showother(){\n    this.otherstatus = !this.otherstatus;\n  }\n\n  public checkOtherStatus(){\n    return this.otherstatus;\n  }\n\n  public getMileagebyVehicleType(data: any,vehicle: any) {\n    for (var type of VehicleTypes) {\n      if (type == vehicle) {\n        if (data[type] != null) {\n          return data[type] + \" km\";\n        }\n      }\n    }\n  }\n\n  public getDrivesbyVehicleType(vehicle: any) {\n    for (var type of VehicleTypes) {\n      var drv = 0\n      if (type == vehicle){\n        for (let trip of this.database.current.drive_history) {\n          if (trip.vehicle_type == vehicle) {\n            drv += 1;\n          }\n        }\n      return drv;\n      }\n    }\n  }\n\n  public getPendingDrives() : Drive[] {\n    return this.database.current.drive_history.filter( (drive) => { if (this.database.current.user.email === drive.commander) {\n      return drive.status === 'pending';}\n    });\n  }\n\n  public getApprovedDrives() : Drive[] {\n    return this.database.current.drive_history.filter( (drive) => {\n      return drive.status === 'verified';\n    });\n  }\n\n  public checkTimelefttoJIT(date: any) {\n    const today = dayjs();\n    var period = 8;\n    var left = period - today.diff(date,\"day\");\n    if (left < 0){\n      return false };\n    return true;\n  }\n\n  public getTimelefttoJIT(date:any ) {\n    const today = dayjs();\n    var period = 7*24*60*60;\n    var left = period - today.diff(date,\"s\");\n    return left;\n  }\n\n  public click(drive: Drive): void {\n    this.database.current.drive_to_edit = drive;\n    console.log(`> Navigating to AddDrivePage for drive id=${drive.id}`);\n    this.navCtrl.navigateForward(['/add-drive']);\n  }\n\n\n\n/*//  public click1(driver: User): void {\n    for (let user of this.database.current.all_drivers_of_commander) {\n      driver = user\n      console.log(`> Navigating to History for email=${driver.email}`)\n      this.navCtrl.navigateForward(['/history'])\n    };\n  }*/\n\n}\n"],"sourceRoot":"webpack:///","file":"pages-commander-commander-module-es5.js"}